0001   0000             #define strAddr $CE
0002   0000             #define fmtByte $32
0003   0000             #define altChar1 $C00E
0004   0000             #define altChar2 $C00F
0005   0000             #define RDALTCHAR $C01E
0006   0000             #define getlin $FD67 
0007   0000             #define rdkey $FD0C
0008   0000             	
0009   0000             
0010   0000             #define keyin  $FD0C
0011   0000             #define getlin $FD6A 
0012   0000             #define cout1 $FDF0
0013   0000             #define hcur $24
0014   0000             
0015   0000             ;zero page vars
0016   0000             #define strAddr $CE
0017   0000             #define fmtByte $32
0018   0000             #define tableAddr FE
0019   0000             #define strSrc 	$EB ; some zero page addr
0020   0000             #define strDest	$FA ; some zero page addr
0021   0000             #define kbBufHi $02
0022   0000             
0023   0800             .org $800
0024   0800             
0025   0800             start
0026   0800             ;	pha ;a
0027   0800             ;	tya ;y
0028   0800             ;	pha
0029   0800             ;	txa	;x
0030   0800             ;	pha
0031   0800             
0032   0800             ;	jsr printcr
0033   0800             ;	lda #$msg/256
0034   0800             ;	sta strAddr+1
0035   0800             ;	lda #$msg%256
0036   0800             ;	sta strAddr
0037   0800             ;	jsr printstr
0038   0800             ;	jsr readkb
0039   0800             ;	jsr readkb
0040   0800             ;	jsr rdkey
0041   0800 A9 0C       	lda #$string_table/256; 
0042   0802 85 FF       	sta $tableAddr+1
0043   0804 A9 60       	lda #$string_table%256
0044   0806 85 FE       	sta $tableAddr
0045   0808             
0046   0808 A9 03       	lda #3
0047   080A 20 C0 08    	jsr printix 
0048   080D             
0049   080D             ;	jsr chkix ; test print object name
0050   080D             	
0051   080D A9 0A       	lda #10
0052   080F 20 F6 0B    	jsr get_obj_id ; should return 4 - Inside Tardis
0053   0812             	
0054   0812             	
0055   0812 A9 20       	lda #$goodbye/256; 
0056   0814 85 CF       	sta strAddr+1
0057   0816 A9 A5       	lda #$goodbye%256
0058   0818 85 CE       	sta strAddr
0059   081A 20 8C 09    	jsr printcr
0060   081D 20 1F 09    	jsr printstr
0061   0820             	
0062   0820             ;;	lda #4
0063   0820             ;;	jsr print_obj_name
0064   0820             	
0065   0820 20 5B 20    	jsr shift_test
0066   0823             	
0067   0823             ;	pla
0068   0823             ;	tax ;x
0069   0823             ;	pla 
0070   0823             ;	tay ;y
0071   0823             ;	pla ;a
0072   0823 60          	rts
0073   0824             
0074   0824             .include "input.asm"
0001+  0824             ;6052 input routine
0002+  0824             
0003+  0824             readkb
0004+  0824 48          		pha ;save a
0005+  0825 8A          		txa ;save x
0006+  0826 48          		pha 
0007+  0827 98          		tya ;save y
0008+  0828 48          		pha
0009+  0829 A9 3E       		lda #$3e	;  '>'
0010+  082B 09 80       		ora #80h	; turn on don't flash bit 
0011+  082D 20 F0 FD    		jsr cout1
0012+  0830 20 59 08    		jsr undrscr
0013+  0833 A0 00       		ldy #0
0014+  0835 AD 00 C0    _kblp	lda $c000 	; kb strobe
0015+  0838 10 FB       		bpl _kblp   
0016+  083A 8D 10 C0    		sta $c010; ;clear strobe 
0017+  083D 99 AB 20    		sta buffer,y; ;store key 
0018+  0840 20 F0 FD    		jsr cout1 
0019+  0843 C9 8D       		cmp #8Dh
0020+  0845 F0 07       		beq _kbout
0021+  0847 20 59 08    		jsr undrscr
0022+  084A C8          		iny
0023+  084B 4C 35 08    		jmp _kblp
0024+  084E A9 00       _kbout	lda #$0
0025+  0850 99 AB 20    		sta buffer,y;
0026+  0853 68          		pla
0027+  0854 A8          		tay ;restore y
0028+  0855 68          		pla
0029+  0856 AA          		tax ;restore x 
0030+  0857 68          		pla ;restore a
0031+  0858 60          		rts
0032+  0859             
0033+  0859             ;prints an '_' where the cursor is
0034+  0859             ;then backs up the cursor.		
0035+  0859             undrscr
0036+  0859 48          		pha
0037+  085A A9 5F       		lda #$5f	;  '_'
0038+  085C 09 80       		ora #80h	; turn on don't flash bit 
0039+  085E 20 F0 FD    		jsr cout1 
0040+  0861 A5 24       		lda $hcur
0041+  0863 38          		sec
0042+  0864 E9 01       		sbc #1 
0043+  0866 85 24       		sta $hcur
0044+  0868 68          		pla
0045+  0869 60          		rts
0046+  086A             		
0047+  086A 00          char .byte 0		0075   086B             .include "strings6502.asm"
0001+  086B             ;6502 string routines
0002+  086B             
0003+  086B             
0004+  086B             ;strSrc and strDest must be set
0005+  086B             	.module strcat
0006+  086B             strcat	
0007+  086B A0 00       		ldy #0
0008+  086D B1 EB       _lp		lda (strSrc),y
0009+  086F 91 FA       		sta (strDest),y
0010+  0871 C9 00       		cmp #0
0011+  0873 F0 04       		beq _x
0012+  0875 C8          		iny
0013+  0876 4C 6D 08    		jmp _lp
0014+  0879 60          _x		rts
0015+  087A             
0016+  087A             ;copies tableAddr into str src
0017+  087A             ;then adds 1 to it.  This is used
0018+  087A             ;to skip the length byte in the table
0019+  087A             ;no registers affected
0020+  087A             
0021+  087A             tab_addr_to_str_src
0022+  087A 48          		pha
0023+  087B A5 FE       		lda $tableAddr
0024+  087D 85 EB       		sta strSrc
0025+  087F A5 FF       		lda $tableAddr+1
0026+  0881 85 EC       		sta strSrc+1
0027+  0883 18          		clc
0028+  0884 A5 EB       		lda strSrc
0029+  0886 69 01       		adc #1
0030+  0888 85 EB       		sta strSrc
0031+  088A A5 EC       		lda strSrc+1
0032+  088C 69 00       		adc #0 		; add any carry
0033+  088E 85 EC       		sta strSrc+1
0034+  0890 68          		pla
0035+  0891 60          		rts
0036+  0892             
0037+  0892             ;the 0 page variable
0038+  0892             ;strSrc and strDest must be set
0039+  0892             ;x is  preserved
0040+  0892             ;result is in 'a'
0041+  0892             	.module streq6
0042+  0892             streq6	
0043+  0892 A0 00       		ldy #0
0044+  0894 B1 EB       _lp		lda (strSrc),y
0045+  0896 D1 FA       		cmp (strDest),y
0046+  0898 D0 11       		bne _n
0047+  089A C9 00       		cmp #0 ; if equal and null, string are equal
0048+  089C F0 08       		beq _y
0049+  089E C8          		iny 
0050+  089F C0 06       		cpy #6	 ; just match first 6 letters
0051+  08A1 F0 03       		beq _y 
0052+  08A3 4C 94 08    		jmp _lp
0053+  08A6 A9 01       _y		lda #1
0054+  08A8 4C AD 08    		jmp _x
0055+  08AB A9 00       _n		lda #0
0056+  08AD 60          _x		rts
0057+  08AE             
0058+  08AE             
0059+  08AE             ;copies strsrc to strdest
0060+  08AE             ;if a null or space is encountered,
0061+  08AE             ;the copy stops
0062+  08AE             ;these zero-page must be set by the caller
0063+  08AE             ;iy contains the offset of the word
0064+  08AE             	.module strcpy
0065+  08AE             strcpy
0066+  08AE 48          		pha
0067+  08AF A0 00       		ldy #0
0068+  08B1 B1 EB       _lp		lda (strSrc),y
0069+  08B3 91 FA       		sta (strDest),y
0070+  08B5 C9 00       		cmp #0
0071+  08B7 F0 04       		beq _x
0072+  08B9 C8          		iny
0073+  08BA 4C B1 08    		jmp _lp
0074+  08BD 68          _x		pla
0075+  08BE 60          		rts
0076+  08BF             		
0077+  08BF 00          streqRes .byte 00076   08C0             .include "printing6502.asm"
0001+  08C0              ;printing
0002+  08C0             
0003+  08C0             ;prints the string whose index is in 'a'
0004+  08C0             ;sets (strAddr) to the start of the string to print
0005+  08C0             ;the function updates it as it goes
0006+  08C0             ;tableAddr needs to have the table name set
0007+  08C0             	.module printix
0008+  08C0             printix:
0009+  08C0 8D A4 09    			sta $srchIndex ; save index to print
0010+  08C3 48          			pha ; save regs
0011+  08C4 8A          			txa
0012+  08C5 48          			pha
0013+  08C6 98          			tya
0014+  08C7 48          			pha
0015+  08C8 A2 00       			ldx #0
0016+  08CA A0 00       			ldy #0 ; y is our loop counter
0017+  08CC EC A4 09    _lp			cpx $srchIndex
0018+  08CF F0 08       			beq _x
0019+  08D1 18          			clc
0020+  08D2 20 46 0C    			jsr next_string
0021+  08D5 E8          			inx ; increment loop counter
0022+  08D6 4C CC 08    			jmp _lp
0023+  08D9 18          _x			clc
0024+  08DA A5 FE       			lda $tableAddr	; //add 1 to skip len byte
0025+  08DC 69 01       			adc #1
0026+  08DE 85 FE       			sta $tableAddr
0027+  08E0 A5 FF       			lda $tableAddr+1
0028+  08E2 69 00       			adc #0				; add carry byte to hi byte
0029+  08E4 85 FF       			sta $tableAddr+1
0030+  08E6             			;copy table addr into str addr
0031+  08E6 A5 FF       			lda ($tableAddr+1)
0032+  08E8 85 CF       			sta strAddr+1
0033+  08EA A5 FE       			lda ($tableAddr)
0034+  08EC 85 CE       			sta strAddr
0035+  08EE 20 1F 09    			jsr printstr
0036+  08F1 68          			pla
0037+  08F2 A8          			tay
0038+  08F3 68          			pla
0039+  08F4 AA          			tax
0040+  08F5 68          			pla
0041+  08F6 60          			rts
0042+  08F7             
0043+  08F7             ;prints the word whose index is in 'a'
0044+  08F7             ;tableAddr is preserved			
0045+  08F7             print_word
0046+  08F7 8D A4 09    	sta $srchIndex
0047+  08FA 48          	pha 
0048+  08FB 8A          	txa
0049+  08FC 48          	pha
0050+  08FD 98          	tya 
0051+  08FE 48          	pha
0052+  08FF A6 FF       	ldx $tableAddr+1 ; save old table entry
0053+  0901 A4 FE       	ldy $tableAddr
0054+  0903 A9 1D       	lda #dictionary/256; 
0055+  0905 85 FF       	sta $tableAddr+1
0056+  0907 A9 EA       	lda #dictionary%256
0057+  0909 85 FE       	sta $tableAddr
0058+  090B AD A4 09    	lda $srchIndex ; reload 'a'
0059+  090E 20 C0 08    	jsr printix
0060+  0911 86 FF       	stx $tableAddr+1 
0061+  0913 84 FE       	sty $tableAddr 
0062+  0915 68          	pla
0063+  0916 A8          	tay
0064+  0917 68          	pla
0065+  0918 AA          	tax
0066+  0919 68          	pla
0067+  091A 60          	rts
0068+  091B             
0069+  091B             print_description
0070+  091B             	
0071+  091B 20 C0 08    	jsr printix
0072+  091E 60          	rts
0073+  091F             
0074+  091F              	
0075+  091F             ;prints the string whose addr is stored in strAddr
0076+  091F             printstr:
0077+  091F 48          			pha
0078+  0920 98          			tya
0079+  0921 48          			pha
0080+  0922 A0 00       			ldy #0
0081+  0924 B1 CE       _lp1		lda ($strAddr),y
0082+  0926 C9 00       			cmp #0
0083+  0928 F0 09       			beq _x2
0084+  092A 09 80       			ora #80h	; turn on don't flash bit
0085+  092C 20 F0 FD    			jsr $cout1
0086+  092F C8          			iny
0087+  0930 4C 24 09    			jmp _lp1
0088+  0933 68          _x2			pla
0089+  0934 A8          			tay
0090+  0935 68          			pla	
0091+  0936 60          			rts
0092+  0937             			
0093+  0937             ;prints the name of the object supplied in 'a'
0094+  0937             ;each entry is 4 four bytes
0095+  0937             	.module print_obj_name
0096+  0937             print_obj_name
0097+  0937 8D A3 09    		sta $objId
0098+  093A 48          		pha	; save regs
0099+  093B 8A          		txa
0100+  093C 48          		pha
0101+  093D 98          		tya
0102+  093E 48          		pha
0103+  093F A9 1F       		lda #$obj_word_table/256	; load obj_name_table into 0 page
0104+  0941 85 FF       		sta $tableAddr+1;
0105+  0943 A9 7E       		lda #$obj_word_table%256	
0106+  0945 85 FE       		sta $tableAddr;	
0107+  0947 AD A3 09    		lda objId;
0108+  094A C9 00       _lp		cmp #0
0109+  094C F0 12       		beq _out
0110+  094E 20 D6 0B    		jsr inc_tabl_addr
0111+  0951 20 D6 0B    		jsr inc_tabl_addr
0112+  0954 20 D6 0B    		jsr inc_tabl_addr
0113+  0957 20 D6 0B    		jsr inc_tabl_addr
0114+  095A 38          		sec
0115+  095B E9 01       		sbc #1  ; dec a
0116+  095D 4C 4A 09    		jmp _lp
0117+  0960 A0 01       _out	ldy #1
0118+  0962 B1 FE       		lda ($tableAddr),y
0119+  0964 20 F7 08    		jsr print_word
0120+  0967 A0 02       		ldy #2
0121+  0969 B1 FE       		lda ($tableAddr),y
0122+  096B C9 FF       		cmp #255
0123+  096D F0 14       		beq _x 
0124+  096F 20 94 09    		jsr printsp ;print a space
0125+  0972 20 F7 08    		jsr print_word
0126+  0975 A0 03       		ldy #3
0127+  0977 B1 FE       		lda ($tableAddr),y
0128+  0979 C9 FF       		cmp #255
0129+  097B F0 06       		beq _x
0130+  097D 20 94 09    		jsr printsp ;print a space
0131+  0980 20 F7 08    		jsr print_word
0132+  0983 20 94 09    _x		jsr printsp ;print a space
0133+  0986 68          		pla	;pull regs
0134+  0987 A8          		tay
0135+  0988 68          		pla
0136+  0989 AA          		tax
0137+  098A 68          		pla
0138+  098B 60          		rts
0139+  098C             		
0140+  098C             printcr:
0141+  098C 48          		pha
0142+  098D A9 8D       		lda #$8D ; non-flashing cr
0143+  098F 20 F0 FD    		jsr $cout1
0144+  0992 68          		pla
0145+  0993 60          		rts
0146+  0994             
0147+  0994             printsp
0148+  0994 48          		pha
0149+  0995 A9 A0       		lda #$A0  ; non-flashing cr
0150+  0997 20 F0 FD    		jsr $cout1
0151+  099A 68          		pla
0152+  099B 60          		rts
0153+  099C             		 
0154+  099C             printstrcr:
0155+  099C 20 1F 09    		jsr printstr
0156+  099F 20 8C 09    		jsr printcr
0157+  09A2 60          		rts
0158+  09A3             
0159+  09A3 00          objId .byte 0		
0160+  09A4 00          srchIndex .byte  00077   09A5             .include "parser6502.asm"
0001+  09A5             ;6502 parse routines
0002+  09A5             
0003+  09A5             ;clears the buffer where the words will
0004+  09A5             ;be stored
0005+  09A5             	.module clr_words
0006+  09A5             clr_words
0007+  09A5 A9 00       		lda #0
0008+  09A7 A0 00       		ldy #0
0009+  09A9 99 D1 0A    _lp		sta $word1,y
0010+  09AC C8          		iny
0011+  09AD C0 80       		cpy #(4*32)
0012+  09AF F0 04       		beq _x
0013+  09B1 C8          		iny
0014+  09B2 4C A9 09    		jmp _lp
0015+  09B5 60          _x		rts
0016+  09B6             
0017+  09B6             ;breaks up the user input into words
0018+  09B6             find_words
0019+  09B6 60          	rts
0020+  09B7             	
0021+  09B7             ;tries to match words to object id numbers
0022+  09B7             encode_sentence
0023+  09B7 60          	rts
0024+  09B8             
0025+  09B8             ;make sure any words were actually mapped
0026+  09B8             ;return if they weren't
0027+  09B8             validate_encoding
0028+  09B8 60          	rts
0029+  09B9             
0030+  09B9             ;make sure any words were actually mapped
0031+  09B9             ;return if they weren't
0032+  09B9             run_sentence
0033+  09B9 60          		rts
0034+  09BA             	
0035+  09BA             ;this function shifts the letters in the input down
0036+  09BA             ;
0037+  09BA             ;precondition: tableAddr points to the start of the word	
0038+  09BA             	.module remove_articles
0039+  09BA             remove_articles
0040+  09BA 48          		pha
0041+  09BB 8A          		txa
0042+  09BC 48          		pha
0043+  09BD 98          		tya
0044+  09BE 48          		pha
0045+  09BF A9 00       		lda #0 ;  put kb buff in tableAddr
0046+  09C1 85 FE       		sta $tableAddr
0047+  09C3 A9 02       		lda #kbBufHi ;  set up addr  in $200
0048+  09C5 85 FF       		sta $tableAddr+1		
0049+  09C7 A0 00       		ldy #0
0050+  09C9 20 1B 0A    _lp1	jsr mov_to_next_word ;  move to start of word (space)
0051+  09CC B1 FE       _lp2	lda ($tableAddr),y  ; is char at word start a null
0052+  09CE C9 00       		cmp #0 ;null
0053+  09D0 F0 19       		beq _x
0054+  09D2 20 33 0A     		jsr mov_to_word_end	 ;  move to end of word1
0055+  09D5 20 4D 0A    		jsr is_article ;  is it 'noise'?
0056+  09D8 AD 5E 0C    		lda $strIndex
0057+  09DB C9 FF       		cmp #255 ;  shift down by wrdEnd letters
0058+  09DD F0 06       		beq _c
0059+  09DF 20 F1 09    		jsr shift_down ; collapse the sentence to squish out the article
0060+  09E2 4C CC 09    		jmp _lp2
0061+  09E5 20 BC 0A    _c		jsr catch_up ; advance to next word
0062+  09E8 4C C9 09    		jmp _lp1
0063+  09EB 68          _x 		pla
0064+  09EC A8          		tay
0065+  09ED 68          		pla
0066+  09EE AA          		tax
0067+  09EF 68          		pla
0068+  09F0 60          		rts
0069+  09F1             
0070+  09F1             ;this subroutine shifts the sentence by 
0071+  09F1             ;repeatedly calling shift_left 
0072+  09F1             	.module shift_down
0073+  09F1             shift_down
0074+  09F1 48          		pha
0075+  09F2 AD 6E 0B    		lda $wrdEnd
0076+  09F5 20 04 0A    _lp		jsr shift_left
0077+  09F8 38          		sec
0078+  09F9 E9 01       		sbc #1
0079+  09FB C9 FF       		cmp #255 ; >=0 
0080+  09FD F0 03       		beq _x
0081+  09FF 4C F5 09    		jmp _lp 
0082+  0A02 68          _x		pla
0083+  0A03 60          		rts
0084+  0A04             		
0085+  0A04             	.module shift_left
0086+  0A04             shift_left
0087+  0A04 48          		pha
0088+  0A05 98          		tya 
0089+  0A06 48          		pha
0090+  0A07 A0 00       		ldy #0
0091+  0A09 C8          _lp	    iny 
0092+  0A0A B1 FE       		lda ($tableAddr),y
0093+  0A0C 88          		dey
0094+  0A0D 91 FE       		sta ($tableAddr),y
0095+  0A0F C9 00       		cmp #0
0096+  0A11 F0 04       		beq _x
0097+  0A13 C8          		iny
0098+  0A14 4C 09 0A    		jmp _lp
0099+  0A17 68          _x 		pla
0100+  0A18 A8          		tay
0101+  0A19 68          		pla
0102+  0A1A 60          		rts
0103+  0A1B             		
0104+  0A1B             ;positions the strAddr table at the start of the next word in the buffer
0105+  0A1B             ;used to skip white space
0106+  0A1B             	.module mov_to_next_word
0107+  0A1B             mov_to_next_word
0108+  0A1B 48          		pha 
0109+  0A1C 98          		tya
0110+  0A1D 48          		pha
0111+  0A1E A0 00       		ldy #0
0112+  0A20 B1 FE       _lp		lda ($tableAddr),y 
0113+  0A22 C9 20       		cmp #$20 ; space
0114+  0A24 F0 03       		beq _c		
0115+  0A26 4C 2F 0A    		jmp _x
0116+  0A29 20 D6 0B    _c		jsr $inc_tabl_addr
0117+  0A2C 4C 20 0A    		jmp _lp
0118+  0A2F 68          _x		pla
0119+  0A30 A8          		tay
0120+  0A31 68          		pla
0121+  0A32 60          		rts
0122+  0A33             
0123+  0A33             ;moves to 1st null or space past $tableAddr
0124+  0A33             ;wrdEnd is set
0125+  0A33             ;tableAddr is not affected
0126+  0A33             	.module mov_to_word_end
0127+  0A33             mov_to_word_end
0128+  0A33             		; while not at space or null, go
0129+  0A33 48          		pha 
0130+  0A34 98          		tya
0131+  0A35 48          		pha
0132+  0A36 A0 00       		ldy #0
0133+  0A38 B1 FE       _lp		lda ($tableAddr),y 
0134+  0A3A C9 20       		cmp #$20 ; space
0135+  0A3C F0 08       		beq _x		
0136+  0A3E C9 00       		cmp #0 ; null
0137+  0A40 F0 04       		beq _x
0138+  0A42 C8          		iny
0139+  0A43 4C 38 0A    		jmp _lp
0140+  0A46 8C 6E 0B    _x		sty $wrdEnd	;
0141+  0A49 68          		pla ;restore tableAddr
0142+  0A4A A8          		tay
0143+  0A4B 68          		pla
0144+  0A4C 60          		rts
0145+  0A4D             
0146+  0A4D             ;sets strIndex to the index of the
0147+  0A4D             ;word in strDest in the prep table or
0148+  0A4D             ;255 if not found
0149+  0A4D             ;article
0150+  0A4D             	.module shift_down
0151+  0A4D             is_article
0152+  0A4D 48          		pha
0153+  0A4E 98          		tya
0154+  0A4F 48          		pha
0155+  0A50 AC 6E 0B    	    ldy $wrdEnd ; get index of white space/null at end
0156+  0A53 B1 FE       		lda  ($tableAddr),y; save old terminator (space? null?)
0157+  0A55 48          		pha  ; save it
0158+  0A56 A5 FE       		lda $tableAddr  ;save old tableAddr (lo)
0159+  0A58 48          		pha
0160+  0A59 A5 FF       		lda $tableAddr+1 ; (hi)
0161+  0A5B 48          		pha
0162+  0A5C A9 00       		lda #0
0163+  0A5E 91 FE       		sta  ($tableAddr),y;  ; repace it with null (for strcmp)
0164+  0A60 A5 FF       		lda $tableAddr+1  ; set up word to find's addr
0165+  0A62 85 FB       		sta $strDest+1
0166+  0A64 A5 FE       		lda $tableAddr
0167+  0A66 85 FA       		sta $strDest					
0168+  0A68 A9 20       		lda #article_table/256  ; set up table to search
0169+  0A6A 85 FF       		sta $tableAddr+1
0170+  0A6C A9 00       		lda #article_table%256
0171+  0A6E 85 FE       		sta $tableAddr
0172+  0A70 20 A5 0B    		jsr get_word_index
0173+  0A73 68          		pla 				;restore prev tableAddr (hi)		
0174+  0A74 85 FF       		sta $tableAddr+1
0175+  0A76 68          		pla 				;restore prev tableAddr (lo)
0176+  0A77 85 FE       		sta $tableAddr
0177+  0A79 68          		pla ; restore char (space or null)
0178+  0A7A 91 FE       		sta ($tableAddr),y;
0179+  0A7C 68          		pla ; restore registers
0180+  0A7D 98          		tya
0181+  0A7E 68          		pla
0182+  0A7F 60          		rts
0183+  0A80             
0184+  0A80             
0185+  0A80             ;sets strIndex to the index of the
0186+  0A80             ;word in strDest in the prep table or
0187+  0A80             ;255 if not found
0188+  0A80             ;article
0189+  0A80             	.module shift_down
0190+  0A80             is_preposition
0191+  0A80 48          		pha
0192+  0A81 8A          		txa
0193+  0A82 48          		pha
0194+  0A83 98          		tya
0195+  0A84 48          		pha
0196+  0A85 B1 FE       		lda  ($tableAddr),y; save old terminator (space? null?)
0197+  0A87 48          		pha  ; save it
0198+  0A88 AC 6E 0B    		ldy $wrdEnd ; get index of white space/null at end
0199+  0A8B A9 00       		lda #0
0200+  0A8D 91 FE       		sta  ($tableAddr),y;  ; repace it with null (for strcmp)
0201+  0A8F A0 00       		ldy #0 
0202+  0A91 A5 FF       		lda $tableAddr+1  ; set up word to find's addr
0203+  0A93 85 FB       		sta $strDest+1
0204+  0A95 A5 FE       		lda $tableAddr
0205+  0A97 85 FA       		sta $strDest					
0206+  0A99 A5 FE       		lda $tableAddr  ;save old tableAddr
0207+  0A9B 48          		pha
0208+  0A9C A5 FF       		lda $tableAddr+1
0209+  0A9E 48          		pha
0210+  0A9F A9 20       		lda #prep_table/256  ; set up table to search
0211+  0AA1 85 FF       		sta $tableAddr+1
0212+  0AA3 A9 0D       		lda #prep_table%256
0213+  0AA5 85 FE       		sta $tableAddr
0214+  0AA7 20 A5 0B    		jsr get_word_index
0215+  0AAA AD 5E 0C    		lda $strIndex
0216+  0AAD 68          		pla 				;restore prev tableAddr		
0217+  0AAE 85 FF       		sta $tableAddr+1
0218+  0AB0 68          		pla 
0219+  0AB1 85 FE       		sta $tableAddr
0220+  0AB3 68          		pla ; restore char (space or null)
0221+  0AB4 91 FE       		sta ($tableAddr),y;
0222+  0AB6 68          		pla ; restore registers
0223+  0AB7 98          		tya
0224+  0AB8 68          		pla
0225+  0AB9 8A          		txa
0226+  0ABA 68          		pla
0227+  0ABB 60          		rts		
0228+  0ABC             
0229+  0ABC             
0230+  0ABC             ;this subroutine advances table addr by the length of the
0231+  0ABC             ;last word so that table addr points to the next word
0232+  0ABC             catch_up
0233+  0ABC 48          	pha
0234+  0ABD 98          	tya
0235+  0ABE 48          	pha
0236+  0ABF 18          	clc
0237+  0AC0 A5 FE       	lda $tableAddr
0238+  0AC2 6D 6E 0B    	adc $wrdEnd
0239+  0AC5 85 FE       	sta $tableAddr
0240+  0AC7 A5 FF       	lda $tableAddr+1
0241+  0AC9 69 00       	adc #0
0242+  0ACB 85 FF       	sta $tableAddr+1
0243+  0ACD 68          	pla
0244+  0ACE A8          	tay
0245+  0ACF 68          	pla
0246+  0AD0 60          	rts
0247+  0AD1             		
0248+  0AD1             word1 .block 32
0249+  0AF1             word2 .block 32
0250+  0B11             word3 .block 32
0251+  0B31             word4 .block 32
0252+  0B51             
0253+  0B51             
0254+  0B51 FF FF FF FF sentence .db 255,255,255,255
0255+  0B55             
0256+  0B55 49 20 44 4F badword  .db "I DON'T KNOW THE WORD '",0h
0256+  0B59 4E 27 54 20 
0256+  0B5D 4B 4E 4F 57 
0256+  0B61 20 54 48 45 
0256+  0B65 20 57 4F 52 
0256+  0B69 44 20 27 00 
0257+  0B6D 27          endquote .db "'",0h
0258+  0B6E 00          wrdEnd 	 .db 0 ;  how many bytes past start
0259+  0B6F 00          isNoise .db	0;0078   0B70             .include "tables6502.asm"
0001+  0B70             ;6502 table  routines
0002+  0B70             
0003+  0B70              
0004+  0B70             
0005+  0B70             ;get_table_index
0006+  0B70             ;tries to look up a word's id in a table 
0007+  0B70             ;that where the entries have ids
0008+  0B70             ;the word to find is stored in the strDest
0009+  0B70             ;zero page variable strDest
0010+  0B70             ;result is stored in tableIndex
0011+  0B70             	.module get_entry_id
0012+  0B70             get_entry_id
0013+  0B70 48          		pha
0014+  0B71 8A          		txa
0015+  0B72 48          		pha
0016+  0B73 98          		tya
0017+  0B74 48          		pha
0018+  0B75 A2 FF       		ldx #255	;set index to 'not found'	
0019+  0B77 8E 5F 0C    		stx wrdId
0020+  0B7A A2 00       		ldx #0  ; loop counter
0021+  0B7C A0 00       		ldy #0
0022+  0B7E B1 FE       _lp		lda ($tableAddr),y	;
0023+  0B80 C9 FF       		cmp #255 	; hit end?
0024+  0B82 F0 1B       		beq _x
0025+  0B84 20 D6 0B    		jsr inc_tabl_addr ; skip id byte
0026+  0B87 20 7A 08    		jsr tab_addr_to_str_src ; position str src at string
0027+  0B8A 20 92 08    		jsr streq6
0028+  0B8D C9 01       		cmp #1
0029+  0B8F F0 06       		beq _y
0030+  0B91 20 46 0C    		jsr next_string		; skip to the next entry
0031+  0B94 4C 7E 0B    		jmp _lp
0032+  0B97 20 E6 0B    _y		jsr dec_tabl_addr ; back up to the id byte
0033+  0B9A B1 FE       		lda ($tableAddr),y
0034+  0B9C 8D 5F 0C    		sta $wrdId
0035+  0B9F 68          _x		pla 
0036+  0BA0 A8          		tay
0037+  0BA1 68          		pla
0038+  0BA2 AA          		tax
0039+  0BA3 68          		pla
0040+  0BA4 60          		rts
0041+  0BA5             
0042+  0BA5             ;assumes the zero-page address tableAddr
0043+  0BA5             ;the addr of the string to find must be in 
0044+  0BA5             ;the strDest 0 page var
0045+  0BA5             ;has been set by the caller.
0046+  0BA5             ;the address in that location is modified by this routine
0047+  0BA5             ;no registers are modified
0048+  0BA5             ;tableIndex is set as a post condition (255=not found) 
0049+  0BA5             	.module get_word_index
0050+  0BA5             get_word_index
0051+  0BA5 48          		pha
0052+  0BA6 8A          		txa
0053+  0BA7 48          		pha
0054+  0BA8 98          		tya
0055+  0BA9 48          		pha
0056+  0BAA A2 FF       		ldx #255	;set index to 'not found'	
0057+  0BAC 8E 5E 0C    		stx strIndex
0058+  0BAF A2 00       		ldx #0  ; loop counter
0059+  0BB1 A0 00       		ldy #0
0060+  0BB3 B1 FE       _lp		lda ($tableAddr),y	;
0061+  0BB5 C9 FF       		cmp #255
0062+  0BB7 F0 17       		beq _x
0063+  0BB9 20 7A 08     		jsr tab_addr_to_str_src  ; put table addr into strSrc
0064+  0BBC 20 92 08    		jsr streq6 ; do they match? (compares strSrc to StrDest)
0065+  0BBF C9 01       		cmp #1
0066+  0BC1 D0 06       		bne _c
0067+  0BC3 8E 5E 0C    		stx $strIndex
0068+  0BC6 4C D0 0B    		jmp _x
0069+  0BC9 20 46 0C    _c		jsr next_string
0070+  0BCC E8          		inx ; increment loop counter
0071+  0BCD 4C B3 0B    		jmp _lp
0072+  0BD0 68          _x		pla
0073+  0BD1 A8          		tay
0074+  0BD2 68          		pla
0075+  0BD3 AA          		tax
0076+  0BD4 68          		pla
0077+  0BD5 60          		rts
0078+  0BD6             		
0079+  0BD6             ;skips to the next table entry in 
0080+  0BD6             ;the string table stored in 
0081+  0BD6             ;tableAddr
0082+  0BD6             inc_tabl_addr
0083+  0BD6 48          		pha
0084+  0BD7 18          		clc
0085+  0BD8 A9 01       		lda #1 ; add 1 to skip length byte and null
0086+  0BDA 65 FE       		adc $tableAddr ; add to lo byte
0087+  0BDC 85 FE       		sta $tableAddr ; store in lo byte
0088+  0BDE A9 00       		lda #0
0089+  0BE0 65 FF       		adc $tableAddr+1 ; add carry to hi byte
0090+  0BE2 85 FF       		sta $tableAddr+1 ; store hi byte 		
0091+  0BE4 68          		pla
0092+  0BE5 60          		rts
0093+  0BE6             
0094+  0BE6             ;decrementes the address in tableAddr
0095+  0BE6             ;this is used to 'back up' to the id  
0096+  0BE6             ;tableAddr
0097+  0BE6             ;NOT TESTED YET
0098+  0BE6             dec_tabl_addr
0099+  0BE6 48          		pha
0100+  0BE7 38          		sec
0101+  0BE8 A5 FE       		lda $tableAddr ; add 1 to skip length byte and null
0102+  0BEA E9 01       		sbc #1 ; add to lo byte
0103+  0BEC 85 FE       		sta $tableAddr ; store in lo byte
0104+  0BEE A5 FF       		lda $tableAddr+1 ; add carry to hi byte
0105+  0BF0 E9 00       		sbc #0
0106+  0BF2 85 FF       		sta $tableAddr+1 ; store hi byte 		
0107+  0BF4 68          		pla
0108+  0BF5 60          		rts
0109+  0BF6             
0110+  0BF6             ;this function returns the id of the object
0111+  0BF6             ;whose word id is supplied in register 'a'
0112+  0BF6             ;		
0113+  0BF6             		.module get_obj_id
0114+  0BF6             get_obj_id
0115+  0BF6 8D A3 09    		sta objId
0116+  0BF9 48          		pha
0117+  0BFA AA          		tax
0118+  0BFB 48          		pha
0119+  0BFC A8          		tay
0120+  0BFD 48          		pha
0121+  0BFE A9 1F       		lda #obj_word_table/256
0122+  0C00 85 FF       		sta $tableAddr+1
0123+  0C02 A9 7E       		lda #obj_word_table%256
0124+  0C04 85 FE       		sta $tableAddr
0125+  0C06 A0 00       _lp		ldy #0
0126+  0C08 B1 FE       		lda ($tableAddr),y	;get the id
0127+  0C0A C9 FF       		cmp #255
0128+  0C0C F0 2F       		beq _ntfnd
0129+  0C0E EA          		nop ; if it isn't visible, skip it
0130+  0C0F A0 01       		ldy #1
0131+  0C11 B1 FE       		lda ($tableAddr),y
0132+  0C13 CD A3 09    		cmp $objId
0133+  0C16 F0 21       		beq _found
0134+  0C18 A0 02       		ldy #2
0135+  0C1A B1 FE       		lda ($tableAddr),y
0136+  0C1C CD A3 09    		cmp $objId
0137+  0C1F F0 18       		beq _found
0138+  0C21 A0 03       		ldy #3
0139+  0C23 B1 FE       		lda ($tableAddr),y
0140+  0C25 CD A3 09    		cmp $objId
0141+  0C28 F0 0F       		beq _found
0142+  0C2A 20 D6 0B    		jsr inc_tabl_addr ; skip to next entry
0143+  0C2D 20 D6 0B    		jsr inc_tabl_addr
0144+  0C30 20 D6 0B    		jsr inc_tabl_addr
0145+  0C33 20 D6 0B    		jsr inc_tabl_addr
0146+  0C36 4C 06 0C    		jmp _lp
0147+  0C39 A0 00       _found	ldy #0
0148+  0C3B B1 FE       		lda ($tableAddr),y	;get the id
0149+  0C3D 8D A3 09    _ntfnd	sta $objId
0150+  0C40 68          		pla
0151+  0C41 A8          		tay
0152+  0C42 68          		pla
0153+  0C43 AA          		tax
0154+  0C44 68          		pla
0155+  0C45 60          		rts
0156+  0C46             		
0157+  0C46             ;skips to the next table entry in 
0158+  0C46             ;the string table stored in 
0159+  0C46             ;tableAddr
0160+  0C46             next_string
0161+  0C46 48          		pha
0162+  0C47 98          		tya
0163+  0C48 48          		pha
0164+  0C49 A0 00       		ldy #0
0165+  0C4B 18          		clc 
0166+  0C4C B1 FE       		lda ($tableAddr),y ; get len referenced by 0 page addr
0167+  0C4E 69 02       		adc #2 ; add 1 to skip length byte and null
0168+  0C50 65 FE       		adc $tableAddr ; add to lo byte
0169+  0C52 85 FE       		sta $tableAddr ; store in lo byte
0170+  0C54 A9 00       		lda #0
0171+  0C56 65 FF       		adc $tableAddr+1 ; add carry to hi byte
0172+  0C58 85 FF       		sta $tableAddr+1 ; store hi byte 
0173+  0C5A 68          		pla 
0174+  0C5B A8          		tay
0175+  0C5C 68          		pla
0176+  0C5D 60          		rts
0177+  0C5E             
0178+  0C5E 00          strIndex .byte 0		
0179+  0C5F             ;objId .byte 0  ; defined in printing 6502.asm
0180+  0C5F 00          wrdId .byte 00079   0C60             .include "testtables.asm"
0001+  0C60             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0002+  0C60             ; StringTable6502.asm
0003+  0C60             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0004+  0C60             
0005+  0C60             string_table
0006+  0C60 3B          	.byte 59
0007+  0C61 4F 46 46 53 	.text "OFFSTAGE.  MOVE OBJECTS HERE TO REMOVE THEM FROM THE WORLD." ; 0
0007+  0C65 54 41 47 45 
0007+  0C69 2E 20 20 4D 
0007+  0C6D 4F 56 45 20 
0007+  0C71 4F 42 4A 45 
0007+  0C75 43 54 53 20 
0007+  0C79 48 45 52 45 
0007+  0C7D 20 54 4F 20 
0007+  0C81 52 45 4D 4F 
0007+  0C85 56 45 20 54 
0007+  0C89 48 45 4D 20 
0007+  0C8D 46 52 4F 4D 
0007+  0C91 20 54 48 45 
0007+  0C95 20 57 4F 52 
0007+  0C99 4C 44 2E 
0008+  0C9C 00          	.byte 0 ; null terminator
0009+  0C9D 3F          	.byte 63
0010+  0C9E 59 4F 55 20 	.text "YOU ARE SPORTING A SKINNY BLACK AND MATCHING CONVERSE SNEAKERS." ; 1
0010+  0CA2 41 52 45 20 
0010+  0CA6 53 50 4F 52 
0010+  0CAA 54 49 4E 47 
0010+  0CAE 20 41 20 53 
0010+  0CB2 4B 49 4E 4E 
0010+  0CB6 59 20 42 4C 
0010+  0CBA 41 43 4B 20 
0010+  0CBE 41 4E 44 20 
0010+  0CC2 4D 41 54 43 
0010+  0CC6 48 49 4E 47 
0010+  0CCA 20 43 4F 4E 
0010+  0CCE 56 45 52 53 
0010+  0CD2 45 20 53 4E 
0010+  0CD6 45 41 4B 45 
0010+  0CDA 52 53 2E 
0011+  0CDD 00          	.byte 0 ; null terminator
0012+  0CDE 3B          	.byte 59
0013+  0CDF 54 48 49 53 	.text "THIS IS A NARROW ALLEY.  TO THE NORTH, YOU CAN SEE TRAFFIC." ; 2
0013+  0CE3 20 49 53 20 
0013+  0CE7 41 20 4E 41 
0013+  0CEB 52 52 4F 57 
0013+  0CEF 20 41 4C 4C 
0013+  0CF3 45 59 2E 20 
0013+  0CF7 20 54 4F 20 
0013+  0CFB 54 48 45 20 
0013+  0CFF 4E 4F 52 54 
0013+  0D03 48 2C 20 59 
0013+  0D07 4F 55 20 43 
0013+  0D0B 41 4E 20 53 
0013+  0D0F 45 45 20 54 
0013+  0D13 52 41 46 46 
0013+  0D17 49 43 2E 
0014+  0D1A 00          	.byte 0 ; null terminator
0015+  0D1B 40          	.byte 64
0016+  0D1C 54 48 45 20 	.text "THE BLUE POLICE BOX IS ABOUT THE SIZE OF AN OLD TELEPHONE BOOTH." ; 3
0016+  0D20 42 4C 55 45 
0016+  0D24 20 50 4F 4C 
0016+  0D28 49 43 45 20 
0016+  0D2C 42 4F 58 20 
0016+  0D30 49 53 20 41 
0016+  0D34 42 4F 55 54 
0016+  0D38 20 54 48 45 
0016+  0D3C 20 53 49 5A 
0016+  0D40 45 20 4F 46 
0016+  0D44 20 41 4E 20 
0016+  0D48 4F 4C 44 20 
0016+  0D4C 54 45 4C 45 
0016+  0D50 50 48 4F 4E 
0016+  0D54 45 20 42 4F 
0016+  0D58 4F 54 48 2E 
0017+  0D5C 00          	.byte 0 ; null terminator
0018+  0D5D 20          	.byte 32
0019+  0D5E 41 20 42 4C 	.text "A BLUE POLICE BOX STANDS NEARBY." ; 4
0019+  0D62 55 45 20 50 
0019+  0D66 4F 4C 49 43 
0019+  0D6A 45 20 42 4F 
0019+  0D6E 58 20 53 54 
0019+  0D72 41 4E 44 53 
0019+  0D76 20 4E 45 41 
0019+  0D7A 52 42 59 2E 
0020+  0D7E 00          	.byte 0 ; null terminator
0021+  0D7F 53          	.byte 83
0022+  0D80 41 53 20 59 	.text "AS YOU ENTER THE TARDIS, YOU REALIZE THAT IT IS MUCH BIGGER ON THE INSIDE THAN OUT." ; 5
0022+  0D84 4F 55 20 45 
0022+  0D88 4E 54 45 52 
0022+  0D8C 20 54 48 45 
0022+  0D90 20 54 41 52 
0022+  0D94 44 49 53 2C 
0022+  0D98 20 59 4F 55 
0022+  0D9C 20 52 45 41 
0022+  0DA0 4C 49 5A 45 
0022+  0DA4 20 54 48 41 
0022+  0DA8 54 20 49 54 
0022+  0DAC 20 49 53 20 
0022+  0DB0 4D 55 43 48 
0022+  0DB4 20 42 49 47 
0022+  0DB8 47 45 52 20 
0022+  0DBC 4F 4E 20 54 
0022+  0DC0 48 45 20 49 
0022+  0DC4 4E 53 49 44 
0022+  0DC8 45 20 54 48 
0022+  0DCC 41 4E 20 4F 
0022+  0DD0 55 54 2E 
0023+  0DD3 00          	.byte 0 ; null terminator
0024+  0DD4 1E          	.byte 30
0025+  0DD5 59 4F 55 20 	.text "YOU NOTICE NOTHING UNEXPECTED." ; 6
0025+  0DD9 4E 4F 54 49 
0025+  0DDD 43 45 20 4E 
0025+  0DE1 4F 54 48 49 
0025+  0DE5 4E 47 20 55 
0025+  0DE9 4E 45 58 50 
0025+  0DED 45 43 54 45 
0025+  0DF1 44 2E 
0026+  0DF3 00          	.byte 0 ; null terminator
0027+  0DF4 29          	.byte 41
0028+  0DF5 41 20 53 4D 	.text "A SMALL NOTE LIES ON ONE OF THE CONSOLES." ; 7
0028+  0DF9 41 4C 4C 20 
0028+  0DFD 4E 4F 54 45 
0028+  0E01 20 4C 49 45 
0028+  0E05 53 20 4F 4E 
0028+  0E09 20 4F 4E 45 
0028+  0E0D 20 4F 46 20 
0028+  0E11 54 48 45 20 
0028+  0E15 43 4F 4E 53 
0028+  0E19 4F 4C 45 53 
0028+  0E1D 2E 
0029+  0E1E 00          	.byte 0 ; null terminator
0030+  0E1F 6F          	.byte 111
0031+  0E20 54 48 49 53 	.text "THIS IS A BUSY INTERSECTION.  STREETS LEAD NORTH AND EAST.  AN ALLEY LEADS SOUTH.  TRAFFIC BLOCKS THE WAY WEST." ; 8
0031+  0E24 20 49 53 20 
0031+  0E28 41 20 42 55 
0031+  0E2C 53 59 20 49 
0031+  0E30 4E 54 45 52 
0031+  0E34 53 45 43 54 
0031+  0E38 49 4F 4E 2E 
0031+  0E3C 20 20 53 54 
0031+  0E40 52 45 45 54 
0031+  0E44 53 20 4C 45 
0031+  0E48 41 44 20 4E 
0031+  0E4C 4F 52 54 48 
0031+  0E50 20 41 4E 44 
0031+  0E54 20 45 41 53 
0031+  0E58 54 2E 20 20 
0031+  0E5C 41 4E 20 41 
0031+  0E60 4C 4C 45 59 
0031+  0E64 20 4C 45 41 
0031+  0E68 44 53 20 53 
0031+  0E6C 4F 55 54 48 
0031+  0E70 2E 20 20 54 
0031+  0E74 52 41 46 46 
0031+  0E78 49 43 20 42 
0031+  0E7C 4C 4F 43 4B 
0031+  0E80 53 20 54 48 
0031+  0E84 45 20 57 41 
0031+  0E88 59 20 57 45 
0031+  0E8C 53 54 2E 
0032+  0E8F 00          	.byte 0 ; null terminator
0033+  0E90 43          	.byte 67
0034+  0E91 54 48 49 53 	.text "THIS IS A BUSY LONDON STREET.  ROSE'S APT. BUILDING IS TO THE WEST." ; 9
0034+  0E95 20 49 53 20 
0034+  0E99 41 20 42 55 
0034+  0E9D 53 59 20 4C 
0034+  0EA1 4F 4E 44 4F 
0034+  0EA5 4E 20 53 54 
0034+  0EA9 52 45 45 54 
0034+  0EAD 2E 20 20 52 
0034+  0EB1 4F 53 45 27 
0034+  0EB5 53 20 41 50 
0034+  0EB9 54 2E 20 42 
0034+  0EBD 55 49 4C 44 
0034+  0EC1 49 4E 47 20 
0034+  0EC5 49 53 20 54 
0034+  0EC9 4F 20 54 48 
0034+  0ECD 45 20 57 45 
0034+  0ED1 53 54 2E 
0035+  0ED4 00          	.byte 0 ; null terminator
0036+  0ED5 62          	.byte 98
0037+  0ED6 54 48 49 53 	.text "THIS A CONGESTED EAST-WEST STREET.  ON THE NORTH SIDE OF THE STREET IS HERRICK'S DEPARTMENT STORE." ; 10
0037+  0EDA 20 41 20 43 
0037+  0EDE 4F 4E 47 45 
0037+  0EE2 53 54 45 44 
0037+  0EE6 20 45 41 53 
0037+  0EEA 54 2D 57 45 
0037+  0EEE 53 54 20 53 
0037+  0EF2 54 52 45 45 
0037+  0EF6 54 2E 20 20 
0037+  0EFA 4F 4E 20 54 
0037+  0EFE 48 45 20 4E 
0037+  0F02 4F 52 54 48 
0037+  0F06 20 53 49 44 
0037+  0F0A 45 20 4F 46 
0037+  0F0E 20 54 48 45 
0037+  0F12 20 53 54 52 
0037+  0F16 45 45 54 20 
0037+  0F1A 49 53 20 48 
0037+  0F1E 45 52 52 49 
0037+  0F22 43 4B 27 53 
0037+  0F26 20 44 45 50 
0037+  0F2A 41 52 54 4D 
0037+  0F2E 45 4E 54 20 
0037+  0F32 53 54 4F 52 
0037+  0F36 45 2E 
0038+  0F38 00          	.byte 0 ; null terminator
0039+  0F39 82          	.byte 130
0040+  0F3A 54 48 49 53 	.text "THIS IS THE GROUND FLOOR OF HERRICK'S DEPARTMENT STORE.  WIDES STAIRCASES LEAD UP AND DOWN. GLASS DOORS LEAD OUTSIDE TO THE SOUTH." ; 11
0040+  0F3E 20 49 53 20 
0040+  0F42 54 48 45 20 
0040+  0F46 47 52 4F 55 
0040+  0F4A 4E 44 20 46 
0040+  0F4E 4C 4F 4F 52 
0040+  0F52 20 4F 46 20 
0040+  0F56 48 45 52 52 
0040+  0F5A 49 43 4B 27 
0040+  0F5E 53 20 44 45 
0040+  0F62 50 41 52 54 
0040+  0F66 4D 45 4E 54 
0040+  0F6A 20 53 54 4F 
0040+  0F6E 52 45 2E 20 
0040+  0F72 20 57 49 44 
0040+  0F76 45 53 20 53 
0040+  0F7A 54 41 49 52 
0040+  0F7E 43 41 53 45 
0040+  0F82 53 20 4C 45 
0040+  0F86 41 44 20 55 
0040+  0F8A 50 20 41 4E 
0040+  0F8E 44 20 44 4F 
0040+  0F92 57 4E 2E 20 
0040+  0F96 47 4C 41 53 
0040+  0F9A 53 20 44 4F 
0040+  0F9E 4F 52 53 20 
0040+  0FA2 4C 45 41 44 
0040+  0FA6 20 4F 55 54 
0040+  0FAA 53 49 44 45 
0040+  0FAE 20 54 4F 20 
0040+  0FB2 54 48 45 20 
0040+  0FB6 53 4F 55 54 
0040+  0FBA 48 2E 
0041+  0FBC 00          	.byte 0 ; null terminator
0042+  0FBD 5E          	.byte 94
0043+  0FBE 54 48 49 53 	.text "THIS IS THE UPSTAIRS OF HERRICK'S, WHICH HOUSES THE SPORTING GOODS SECTION.  STAIRS LEAD DOWN." ; 12
0043+  0FC2 20 49 53 20 
0043+  0FC6 54 48 45 20 
0043+  0FCA 55 50 53 54 
0043+  0FCE 41 49 52 53 
0043+  0FD2 20 4F 46 20 
0043+  0FD6 48 45 52 52 
0043+  0FDA 49 43 4B 27 
0043+  0FDE 53 2C 20 57 
0043+  0FE2 48 49 43 48 
0043+  0FE6 20 48 4F 55 
0043+  0FEA 53 45 53 20 
0043+  0FEE 54 48 45 20 
0043+  0FF2 53 50 4F 52 
0043+  0FF6 54 49 4E 47 
0043+  0FFA 20 47 4F 4F 
0043+  0FFE 44 53 20 53 
0043+  1002 45 43 54 49 
0043+  1006 4F 4E 2E 20 
0043+  100A 20 53 54 41 
0043+  100E 49 52 53 20 
0043+  1012 4C 45 41 44 
0043+  1016 20 44 4F 57 
0043+  101A 4E 2E 
0044+  101C 00          	.byte 0 ; null terminator
0045+  101D 64          	.byte 100
0046+  101E 54 48 49 53 	.text "THIS IS THE BASEMENT UP HERRICK'S. STAIRS LEAD UP.  A ROOM LABELED 'EMPLOYEES ONLY IS TO THE SOUTH'." ; 13
0046+  1022 20 49 53 20 
0046+  1026 54 48 45 20 
0046+  102A 42 41 53 45 
0046+  102E 4D 45 4E 54 
0046+  1032 20 55 50 20 
0046+  1036 48 45 52 52 
0046+  103A 49 43 4B 27 
0046+  103E 53 2E 20 53 
0046+  1042 54 41 49 52 
0046+  1046 53 20 4C 45 
0046+  104A 41 44 20 55 
0046+  104E 50 2E 20 20 
0046+  1052 41 20 52 4F 
0046+  1056 4F 4D 20 4C 
0046+  105A 41 42 45 4C 
0046+  105E 45 44 20 27 
0046+  1062 45 4D 50 4C 
0046+  1066 4F 59 45 45 
0046+  106A 53 20 4F 4E 
0046+  106E 4C 59 20 49 
0046+  1072 53 20 54 4F 
0046+  1076 20 54 48 45 
0046+  107A 20 53 4F 55 
0046+  107E 54 48 27 2E 
0047+  1082 00          	.byte 0 ; null terminator
0048+  1083 48          	.byte 72
0049+  1084 54 48 49 53 	.text "THIS IS ROOM USED FOR STOCKING INVENTORY.  A DOOR LEADS OUT TO THE NORTH" ; 14
0049+  1088 20 49 53 20 
0049+  108C 52 4F 4F 4D 
0049+  1090 20 55 53 45 
0049+  1094 44 20 46 4F 
0049+  1098 52 20 53 54 
0049+  109C 4F 43 4B 49 
0049+  10A0 4E 47 20 49 
0049+  10A4 4E 56 45 4E 
0049+  10A8 54 4F 52 59 
0049+  10AC 2E 20 20 41 
0049+  10B0 20 44 4F 4F 
0049+  10B4 52 20 4C 45 
0049+  10B8 41 44 53 20 
0049+  10BC 4F 55 54 20 
0049+  10C0 54 4F 20 54 
0049+  10C4 48 45 20 4E 
0049+  10C8 4F 52 54 48 
0050+  10CC 00          	.byte 0 ; null terminator
0051+  10CD 69          	.byte 105
0052+  10CE 54 48 49 53 	.text "THIS IS THE LOBBY OF ROSE'S APT. BUILDING. TO THE WEST IS AN ELEVATOR. TO THE EAST, A DOOR LEADS OUTSIDE." ; 15
0052+  10D2 20 49 53 20 
0052+  10D6 54 48 45 20 
0052+  10DA 4C 4F 42 42 
0052+  10DE 59 20 4F 46 
0052+  10E2 20 52 4F 53 
0052+  10E6 45 27 53 20 
0052+  10EA 41 50 54 2E 
0052+  10EE 20 42 55 49 
0052+  10F2 4C 44 49 4E 
0052+  10F6 47 2E 20 54 
0052+  10FA 4F 20 54 48 
0052+  10FE 45 20 57 45 
0052+  1102 53 54 20 49 
0052+  1106 53 20 41 4E 
0052+  110A 20 45 4C 45 
0052+  110E 56 41 54 4F 
0052+  1112 52 2E 20 54 
0052+  1116 4F 20 54 48 
0052+  111A 45 20 45 41 
0052+  111E 53 54 2C 20 
0052+  1122 41 20 44 4F 
0052+  1126 4F 52 20 4C 
0052+  112A 45 41 44 53 
0052+  112E 20 4F 55 54 
0052+  1132 53 49 44 45 
0052+  1136 2E 
0053+  1137 00          	.byte 0 ; null terminator
0054+  1138 19          	.byte 25
0055+  1139 54 48 49 53 	.text "THIS IS A SMALL ELEVATOR." ; 16
0055+  113D 20 49 53 20 
0055+  1141 41 20 53 4D 
0055+  1145 41 4C 4C 20 
0055+  1149 45 4C 45 56 
0055+  114D 41 54 4F 52 
0055+  1151 2E 
0056+  1152 00          	.byte 0 ; null terminator
0057+  1153 25          	.byte 37
0058+  1154 41 20 53 49 	.text "A SINGLE BUTTON  IS NEXT TO THE DOOR." ; 17
0058+  1158 4E 47 4C 45 
0058+  115C 20 42 55 54 
0058+  1160 54 4F 4E 20 
0058+  1164 20 49 53 20 
0058+  1168 4E 45 58 54 
0058+  116C 20 54 4F 20 
0058+  1170 54 48 45 20 
0058+  1174 44 4F 4F 52 
0058+  1178 2E 
0059+  1179 00          	.byte 0 ; null terminator
0060+  117A 59          	.byte 89
0061+  117B 54 48 49 53 	.text "THIS IS CRAMPED, DINGY HALLWAY.  ROSE'S FLAT IS TO THE EAST, TO THE WEST IS THE ELEVATOR." ; 18
0061+  117F 20 49 53 20 
0061+  1183 43 52 41 4D 
0061+  1187 50 45 44 2C 
0061+  118B 20 44 49 4E 
0061+  118F 47 59 20 48 
0061+  1193 41 4C 4C 57 
0061+  1197 41 59 2E 20 
0061+  119B 20 52 4F 53 
0061+  119F 45 27 53 20 
0061+  11A3 46 4C 41 54 
0061+  11A7 20 49 53 20 
0061+  11AB 54 4F 20 54 
0061+  11AF 48 45 20 45 
0061+  11B3 41 53 54 2C 
0061+  11B7 20 54 4F 20 
0061+  11BB 54 48 45 20 
0061+  11BF 57 45 53 54 
0061+  11C3 20 49 53 20 
0061+  11C7 54 48 45 20 
0061+  11CB 45 4C 45 56 
0061+  11CF 41 54 4F 52 
0061+  11D3 2E 
0062+  11D4 00          	.byte 0 ; null terminator
0063+  11D5 38          	.byte 56
0064+  11D6 54 48 49 53 	.text "THIS IS ROSES SMALL APARTMENT.  TO THE WEST IS THE HALL." ; 19
0064+  11DA 20 49 53 20 
0064+  11DE 52 4F 53 45 
0064+  11E2 53 20 53 4D 
0064+  11E6 41 4C 4C 20 
0064+  11EA 41 50 41 52 
0064+  11EE 54 4D 45 4E 
0064+  11F2 54 2E 20 20 
0064+  11F6 54 4F 20 54 
0064+  11FA 48 45 20 57 
0064+  11FE 45 53 54 20 
0064+  1202 49 53 20 54 
0064+  1206 48 45 20 48 
0064+  120A 41 4C 4C 2E 
0065+  120E 00          	.byte 0 ; null terminator
0066+  120F 3C          	.byte 60
0067+  1210 54 48 4F 55 	.text "THOUGH OBVIOUSLY PLASTIC, THE MANNEQUIN IS EERILY LIFE-LIKE." ; 20
0067+  1214 47 48 20 4F 
0067+  1218 42 56 49 4F 
0067+  121C 55 53 4C 59 
0067+  1220 20 50 4C 41 
0067+  1224 53 54 49 43 
0067+  1228 2C 20 54 48 
0067+  122C 45 20 4D 41 
0067+  1230 4E 4E 45 51 
0067+  1234 55 49 4E 20 
0067+  1238 49 53 20 45 
0067+  123C 45 52 49 4C 
0067+  1240 59 20 4C 49 
0067+  1244 46 45 2D 4C 
0067+  1248 49 4B 45 2E 
0068+  124C 00          	.byte 0 ; null terminator
0069+  124D 30          	.byte 48
0070+  124E 41 20 50 4C 	.text "A PLASTIC MANNEQUIN STANDS ON A  SMALL PEDESTAL." ; 21
0070+  1252 41 53 54 49 
0070+  1256 43 20 4D 41 
0070+  125A 4E 4E 45 51 
0070+  125E 55 49 4E 20 
0070+  1262 53 54 41 4E 
0070+  1266 44 53 20 4F 
0070+  126A 4E 20 41 20 
0070+  126E 20 53 4D 41 
0070+  1272 4C 4C 20 50 
0070+  1276 45 44 45 53 
0070+  127A 54 41 4C 2E 
0071+  127E 00          	.byte 0 ; null terminator
0072+  127F 44          	.byte 68
0073+  1280 54 48 45 20 	.text "THE BAT IS SOLID WILLOW.  DEFINITELY GOOD FOR GETTING A FEW 'OVERS'." ; 22
0073+  1284 42 41 54 20 
0073+  1288 49 53 20 53 
0073+  128C 4F 4C 49 44 
0073+  1290 20 57 49 4C 
0073+  1294 4C 4F 57 2E 
0073+  1298 20 20 44 45 
0073+  129C 46 49 4E 49 
0073+  12A0 54 45 4C 59 
0073+  12A4 20 47 4F 4F 
0073+  12A8 44 20 46 4F 
0073+  12AC 52 20 47 45 
0073+  12B0 54 54 49 4E 
0073+  12B4 47 20 41 20 
0073+  12B8 46 45 57 20 
0073+  12BC 27 4F 56 45 
0073+  12C0 52 53 27 2E 
0074+  12C4 00          	.byte 0 ; null terminator
0075+  12C5 2D          	.byte 45
0076+  12C6 41 20 43 52 	.text "A CRICKET BAT LIES AMOUNG THE ASSORTED ITEMS." ; 23
0076+  12CA 49 43 4B 45 
0076+  12CE 54 20 42 41 
0076+  12D2 54 20 4C 49 
0076+  12D6 45 53 20 41 
0076+  12DA 4D 4F 55 4E 
0076+  12DE 47 20 54 48 
0076+  12E2 45 20 41 53 
0076+  12E6 53 4F 52 54 
0076+  12EA 45 44 20 49 
0076+  12EE 54 45 4D 53 
0076+  12F2 2E 
0077+  12F3 00          	.byte 0 ; null terminator
0078+  12F4 28          	.byte 40
0079+  12F5 52 4F 53 45 	.text "ROSE IS LYING ON THE GROUND UNCONSCIOUS." ; 24
0079+  12F9 20 49 53 20 
0079+  12FD 4C 59 49 4E 
0079+  1301 47 20 4F 4E 
0079+  1305 20 54 48 45 
0079+  1309 20 47 52 4F 
0079+  130D 55 4E 44 20 
0079+  1311 55 4E 43 4F 
0079+  1315 4E 53 43 49 
0079+  1319 4F 55 53 2E 
0080+  131D 00          	.byte 0 ; null terminator
0081+  131E 41          	.byte 65
0082+  131F 54 48 45 20 	.text "THE DALEK RESEMBLES A GARBAGE CAN WITH A TOILET PLUNGER STICKOUT." ; 25
0082+  1323 44 41 4C 45 
0082+  1327 4B 20 52 45 
0082+  132B 53 45 4D 42 
0082+  132F 4C 45 53 20 
0082+  1333 41 20 47 41 
0082+  1337 52 42 41 47 
0082+  133B 45 20 43 41 
0082+  133F 4E 20 57 49 
0082+  1343 54 48 20 41 
0082+  1347 20 54 4F 49 
0082+  134B 4C 45 54 20 
0082+  134F 50 4C 55 4E 
0082+  1353 47 45 52 20 
0082+  1357 53 54 49 43 
0082+  135B 4B 4F 55 54 
0082+  135F 2E 
0083+  1360 00          	.byte 0 ; null terminator
0084+  1361 3C          	.byte 60
0085+  1362 41 20 48 4F 	.text "A HOSTILE DALEK IS WHEELING AROUND, SCREAMING 'EXTERMINATE!'" ; 26
0085+  1366 53 54 49 4C 
0085+  136A 45 20 44 41 
0085+  136E 4C 45 4B 20 
0085+  1372 49 53 20 57 
0085+  1376 48 45 45 4C 
0085+  137A 49 4E 47 20 
0085+  137E 41 52 4F 55 
0085+  1382 4E 44 2C 20 
0085+  1386 53 43 52 45 
0085+  138A 41 4D 49 4E 
0085+  138E 47 20 27 45 
0085+  1392 58 54 45 52 
0085+  1396 4D 49 4E 41 
0085+  139A 54 45 21 27 
0086+  139E 00          	.byte 0 ; null terminator
0087+  139F 1C          	.byte 28
0088+  13A0 54 48 45 20 	.text "THE HAT IS A STYLISH FEDORA." ; 27
0088+  13A4 48 41 54 20 
0088+  13A8 49 53 20 41 
0088+  13AC 20 53 54 59 
0088+  13B0 4C 49 53 48 
0088+  13B4 20 46 45 44 
0088+  13B8 4F 52 41 2E 
0089+  13BC 00          	.byte 0 ; null terminator
0090+  13BD 27          	.byte 39
0091+  13BE 41 20 53 54 	.text "A STYLISH HAT RESTS ATOP THE MANNEQUIN." ; 28
0091+  13C2 59 4C 49 53 
0091+  13C6 48 20 48 41 
0091+  13CA 54 20 52 45 
0091+  13CE 53 54 53 20 
0091+  13D2 41 54 4F 50 
0091+  13D6 20 54 48 45 
0091+  13DA 20 4D 41 4E 
0091+  13DE 4E 45 51 55 
0091+  13E2 49 4E 2E 
0092+  13E5 00          	.byte 0 ; null terminator
0093+  13E6 24          	.byte 36
0094+  13E7 54 48 45 20 	.text "THE HEAD STARES BLANKLY BACK AT YOU." ; 29
0094+  13EB 48 45 41 44 
0094+  13EF 20 53 54 41 
0094+  13F3 52 45 53 20 
0094+  13F7 42 4C 41 4E 
0094+  13FB 4B 4C 59 20 
0094+  13FF 42 41 43 4B 
0094+  1403 20 41 54 20 
0094+  1407 59 4F 55 2E 
0095+  140B 00          	.byte 0 ; null terminator
0096+  140C 22          	.byte 34
0097+  140D 41 20 50 4C 	.text "A PLASTIC HEAD LIES ON THE GROUND." ; 30
0097+  1411 41 53 54 49 
0097+  1415 43 20 48 45 
0097+  1419 41 44 20 4C 
0097+  141D 49 45 53 20 
0097+  1421 4F 4E 20 54 
0097+  1425 48 45 20 47 
0097+  1429 52 4F 55 4E 
0097+  142D 44 2E 
0098+  142F 00          	.byte 0 ; null terminator
0099+  1430 3A          	.byte 58
0100+  1431 4C 4F 4F 4B 	.text "LOOKING DOWN THE NECK, YOU CAN SEE SOPHISTICATED ROBOTICS." ; 31
0100+  1435 49 4E 47 20 
0100+  1439 44 4F 57 4E 
0100+  143D 20 54 48 45 
0100+  1441 20 4E 45 43 
0100+  1445 4B 2C 20 59 
0100+  1449 4F 55 20 43 
0100+  144D 41 4E 20 53 
0100+  1451 45 45 20 53 
0100+  1455 4F 50 48 49 
0100+  1459 53 54 49 43 
0100+  145D 41 54 45 44 
0100+  1461 20 52 4F 42 
0100+  1465 4F 54 49 43 
0100+  1469 53 2E 
0101+  146B 00          	.byte 0 ; null terminator
0102+  146C 2D          	.byte 45
0103+  146D 41 20 4C 49 	.text "A LIFELESS TORSO LIES CRUMPLED ON THE GROUND." ; 32
0103+  1471 46 45 4C 45 
0103+  1475 53 53 20 54 
0103+  1479 4F 52 53 4F 
0103+  147D 20 4C 49 45 
0103+  1481 53 20 43 52 
0103+  1485 55 4D 50 4C 
0103+  1489 45 44 20 4F 
0103+  148D 4E 20 54 48 
0103+  1491 45 20 47 52 
0103+  1495 4F 55 4E 44 
0103+  1499 2E 
0104+  149A 00          	.byte 0 ; null terminator
0105+  149B 4B          	.byte 75
0106+  149C 54 48 45 20 	.text "THE SONIC SCREWDRIVER HAS SEVERAL BUTTONS, THOUGH NONE OF THEM ARE LABELED." ; 33
0106+  14A0 53 4F 4E 49 
0106+  14A4 43 20 53 43 
0106+  14A8 52 45 57 44 
0106+  14AC 52 49 56 45 
0106+  14B0 52 20 48 41 
0106+  14B4 53 20 53 45 
0106+  14B8 56 45 52 41 
0106+  14BC 4C 20 42 55 
0106+  14C0 54 54 4F 4E 
0106+  14C4 53 2C 20 54 
0106+  14C8 48 4F 55 47 
0106+  14CC 48 20 4E 4F 
0106+  14D0 4E 45 20 4F 
0106+  14D4 46 20 54 48 
0106+  14D8 45 4D 20 41 
0106+  14DC 52 45 20 4C 
0106+  14E0 41 42 45 4C 
0106+  14E4 45 44 2E 
0107+  14E7 00          	.byte 0 ; null terminator
0108+  14E8 47          	.byte 71
0109+  14E9 54 48 45 20 	.text "THE PLUNGER LIKE APPENDAGE PERMITS THE DALEK A LIMITED FIELD OF VISION." ; 34
0109+  14ED 50 4C 55 4E 
0109+  14F1 47 45 52 20 
0109+  14F5 4C 49 4B 45 
0109+  14F9 20 41 50 50 
0109+  14FD 45 4E 44 41 
0109+  1501 47 45 20 50 
0109+  1505 45 52 4D 49 
0109+  1509 54 53 20 54 
0109+  150D 48 45 20 44 
0109+  1511 41 4C 45 4B 
0109+  1515 20 41 20 4C 
0109+  1519 49 4D 49 54 
0109+  151D 45 44 20 46 
0109+  1521 49 45 4C 44 
0109+  1525 20 4F 46 20 
0109+  1529 56 49 53 49 
0109+  152D 4F 4E 2E 
0110+  1530 00          	.byte 0 ; null terminator
0111+  1531 7C          	.byte 124
0112+  1532 57 45 4C 43 	.text "WELCOME TO TRENZALORE, WHERE TIME LORDS GO WHEN THEY ARE OUT OF LIVES. NEXT TIME, PERHAPS, WE'LL FIND A WAY PAST THAT DALEK." ; 35
0112+  1536 4F 4D 45 20 
0112+  153A 54 4F 20 54 
0112+  153E 52 45 4E 5A 
0112+  1542 41 4C 4F 52 
0112+  1546 45 2C 20 57 
0112+  154A 48 45 52 45 
0112+  154E 20 54 49 4D 
0112+  1552 45 20 4C 4F 
0112+  1556 52 44 53 20 
0112+  155A 47 4F 20 57 
0112+  155E 48 45 4E 20 
0112+  1562 54 48 45 59 
0112+  1566 20 41 52 45 
0112+  156A 20 4F 55 54 
0112+  156E 20 4F 46 20 
0112+  1572 4C 49 56 45 
0112+  1576 53 2E 20 4E 
0112+  157A 45 58 54 20 
0112+  157E 54 49 4D 45 
0112+  1582 2C 20 50 45 
0112+  1586 52 48 41 50 
0112+  158A 53 2C 20 57 
0112+  158E 45 27 4C 4C 
0112+  1592 20 46 49 4E 
0112+  1596 44 20 41 20 
0112+  159A 57 41 59 20 
0112+  159E 50 41 53 54 
0112+  15A2 20 54 48 41 
0112+  15A6 54 20 44 41 
0112+  15AA 4C 45 4B 2E 
0113+  15AE 00          	.byte 0 ; null terminator
0114+  15AF 1E          	.byte 30
0115+  15B0 54 48 49 53 	.text "THIS IS THE DOOR TO ROSES APT." ; 36
0115+  15B4 20 49 53 20 
0115+  15B8 54 48 45 20 
0115+  15BC 44 4F 4F 52 
0115+  15C0 20 54 4F 20 
0115+  15C4 52 4F 53 45 
0115+  15C8 53 20 41 50 
0115+  15CC 54 2E 
0116+  15CE 00          	.byte 0 ; null terminator
0117+  15CF 1F          	.byte 31
0118+  15D0 54 48 49 53 	.text "THIS IS NON-DESCRIPT STEEL KEY." ; 37
0118+  15D4 20 49 53 20 
0118+  15D8 4E 4F 4E 2D 
0118+  15DC 44 45 53 43 
0118+  15E0 52 49 50 54 
0118+  15E4 20 53 54 45 
0118+  15E8 45 4C 20 4B 
0118+  15EC 45 59 2E 
0119+  15EF 00          	.byte 0 ; null terminator
0120+  15F0 5F          	.byte 95
0121+  15F1 54 48 45 20 	.text "THE TRAFFIC IS DENSELY PACKED MASS OF CARS AND THE OCCAISIONAL DOUBLE-DECKER BUS AND BLACK CAB." ; 38
0121+  15F5 54 52 41 46 
0121+  15F9 46 49 43 20 
0121+  15FD 49 53 20 44 
0121+  1601 45 4E 53 45 
0121+  1605 4C 59 20 50 
0121+  1609 41 43 4B 45 
0121+  160D 44 20 4D 41 
0121+  1611 53 53 20 4F 
0121+  1615 46 20 43 41 
0121+  1619 52 53 20 41 
0121+  161D 4E 44 20 54 
0121+  1621 48 45 20 4F 
0121+  1625 43 43 41 49 
0121+  1629 53 49 4F 4E 
0121+  162D 41 4C 20 44 
0121+  1631 4F 55 42 4C 
0121+  1635 45 2D 44 45 
0121+  1639 43 4B 45 52 
0121+  163D 20 42 55 53 
0121+  1641 20 41 4E 44 
0121+  1645 20 42 4C 41 
0121+  1649 43 4B 20 43 
0121+  164D 41 42 2E 
0122+  1650 00          	.byte 0 ; null terminator
0123+  1651 34          	.byte 52
0124+  1652 54 48 45 20 	.text "THE MANNEQUIN IS OBVIOUSLY ALIVE AND VERY DANGEROUS." ; 39
0124+  1656 4D 41 4E 4E 
0124+  165A 45 51 55 49 
0124+  165E 4E 20 49 53 
0124+  1662 20 4F 42 56 
0124+  1666 49 4F 55 53 
0124+  166A 4C 59 20 41 
0124+  166E 4C 49 56 45 
0124+  1672 20 41 4E 44 
0124+  1676 20 56 45 52 
0124+  167A 59 20 44 41 
0124+  167E 4E 47 45 52 
0124+  1682 4F 55 53 2E 
0125+  1686 00          	.byte 0 ; null terminator
0126+  1687 2B          	.byte 43
0127+  1688 54 48 45 20 	.text "THE MANNEQUIN IS STANDING OVER ROSE'S BODY." ; 40
0127+  168C 4D 41 4E 4E 
0127+  1690 45 51 55 49 
0127+  1694 4E 20 49 53 
0127+  1698 20 53 54 41 
0127+  169C 4E 44 49 4E 
0127+  16A0 47 20 4F 56 
0127+  16A4 45 52 20 52 
0127+  16A8 4F 53 45 27 
0127+  16AC 53 20 42 4F 
0127+  16B0 44 59 2E 
0128+  16B3 00          	.byte 0 ; null terminator
0129+  16B4 20          	.byte 32
0130+  16B5 41 20 53 54 	.text "A STYLISH HAT LIES ON THE FLOOR." ; 41
0130+  16B9 59 4C 49 53 
0130+  16BD 48 20 48 41 
0130+  16C1 54 20 4C 49 
0130+  16C5 45 53 20 4F 
0130+  16C9 4E 20 54 48 
0130+  16CD 45 20 46 4C 
0130+  16D1 4F 4F 52 2E 
0131+  16D5 00          	.byte 0 ; null terminator
0132+  16D6 58          	.byte 88
0133+  16D7 41 53 20 54 	.text "AS THE SELF DESTRUCT ACTIVATES, THE DALEK IS SHATTERED BY A POWERFUL INTERNAL EXPLOSION." ; 42
0133+  16DB 48 45 20 53 
0133+  16DF 45 4C 46 20 
0133+  16E3 44 45 53 54 
0133+  16E7 52 55 43 54 
0133+  16EB 20 41 43 54 
0133+  16EF 49 56 41 54 
0133+  16F3 45 53 2C 20 
0133+  16F7 54 48 45 20 
0133+  16FB 44 41 4C 45 
0133+  16FF 4B 20 49 53 
0133+  1703 20 53 48 41 
0133+  1707 54 54 45 52 
0133+  170B 45 44 20 42 
0133+  170F 59 20 41 20 
0133+  1713 50 4F 57 45 
0133+  1717 52 46 55 4C 
0133+  171B 20 49 4E 54 
0133+  171F 45 52 4E 41 
0133+  1723 4C 20 45 58 
0133+  1727 50 4C 4F 53 
0133+  172B 49 4F 4E 2E 
0134+  172F 00          	.byte 0 ; null terminator
0135+  1730 48          	.byte 72
0136+  1731 54 48 45 20 	.text "THE MASSIVE CONCUSSSION, TRAPPED INSIDE THE TARDIS, KILLS YOU INSTANTLY." ; 43
0136+  1735 4D 41 53 53 
0136+  1739 49 56 45 20 
0136+  173D 43 4F 4E 43 
0136+  1741 55 53 53 53 
0136+  1745 49 4F 4E 2C 
0136+  1749 20 54 52 41 
0136+  174D 50 50 45 44 
0136+  1751 20 49 4E 53 
0136+  1755 49 44 45 20 
0136+  1759 54 48 45 20 
0136+  175D 54 41 52 44 
0136+  1761 49 53 2C 20 
0136+  1765 4B 49 4C 4C 
0136+  1769 53 20 59 4F 
0136+  176D 55 20 49 4E 
0136+  1771 53 54 41 4E 
0136+  1775 54 4C 59 2E 
0137+  1779 00          	.byte 0 ; null terminator
0138+  177A 1B          	.byte 27
0139+  177B 54 48 45 20 	.text "THE DALEK IS FOLLOWING YOU." ; 44
0139+  177F 44 41 4C 45 
0139+  1783 4B 20 49 53 
0139+  1787 20 46 4F 4C 
0139+  178B 4C 4F 57 49 
0139+  178F 4E 47 20 59 
0139+  1793 4F 55 2E 
0140+  1796 00          	.byte 0 ; null terminator
0141+  1797 4D          	.byte 77
0142+  1798 41 53 20 59 	.text "AS YOU ENTER THE LOBBY, A HULKING JUDOON WALKS BY, KNOCKING YOU BACK OUTSIDE." ; 45
0142+  179C 4F 55 20 45 
0142+  17A0 4E 54 45 52 
0142+  17A4 20 54 48 45 
0142+  17A8 20 4C 4F 42 
0142+  17AC 42 59 2C 20 
0142+  17B0 41 20 48 55 
0142+  17B4 4C 4B 49 4E 
0142+  17B8 47 20 4A 55 
0142+  17BC 44 4F 4F 4E 
0142+  17C0 20 57 41 4C 
0142+  17C4 4B 53 20 42 
0142+  17C8 59 2C 20 4B 
0142+  17CC 4E 4F 43 4B 
0142+  17D0 49 4E 47 20 
0142+  17D4 59 4F 55 20 
0142+  17D8 42 41 43 4B 
0142+  17DC 20 4F 55 54 
0142+  17E0 53 49 44 45 
0142+  17E4 2E 
0143+  17E5 00          	.byte 0 ; null terminator
0144+  17E6 69          	.byte 105
0145+  17E7 43 4F 4E 47 	.text "CONGRATULATIONS!  WITH THE DALEK DESTROYED, YOU AND THE TARDIS ARE NOW READY FOR YOUR FURTHER ADVENTURES." ; 46
0145+  17EB 52 41 54 55 
0145+  17EF 4C 41 54 49 
0145+  17F3 4F 4E 53 21 
0145+  17F7 20 20 57 49 
0145+  17FB 54 48 20 54 
0145+  17FF 48 45 20 44 
0145+  1803 41 4C 45 4B 
0145+  1807 20 44 45 53 
0145+  180B 54 52 4F 59 
0145+  180F 45 44 2C 20 
0145+  1813 59 4F 55 20 
0145+  1817 41 4E 44 20 
0145+  181B 54 48 45 20 
0145+  181F 54 41 52 44 
0145+  1823 49 53 20 41 
0145+  1827 52 45 20 4E 
0145+  182B 4F 57 20 52 
0145+  182F 45 41 44 59 
0145+  1833 20 46 4F 52 
0145+  1837 20 59 4F 55 
0145+  183B 52 20 46 55 
0145+  183F 52 54 48 45 
0145+  1843 52 20 41 44 
0145+  1847 56 45 4E 54 
0145+  184B 55 52 45 53 
0145+  184F 2E 
0146+  1850 00          	.byte 0 ; null terminator
0147+  1851 0F          	.byte 15
0148+  1852 53 54 4F 52 	.text "STORY COMPLETE." ; 47
0148+  1856 59 20 43 4F 
0148+  185A 4D 50 4C 45 
0148+  185E 54 45 2E 
0149+  1861 00          	.byte 0 ; null terminator
0150+  1862 19          	.byte 25
0151+  1863 54 59 50 45 	.text "TYPE 'QUIT' TO EXIT GAME." ; 48
0151+  1867 20 27 51 55 
0151+  186B 49 54 27 20 
0151+  186F 54 4F 20 45 
0151+  1873 58 49 54 20 
0151+  1877 47 41 4D 45 
0151+  187B 2E 
0152+  187C 00          	.byte 0 ; null terminator
0153+  187D 4C          	.byte 76
0154+  187E 49 46 20 59 	.text "IF YOU ARE EXPERIENCING SUICIDAL THOUGHTS, YOU SHOULD SEEK PHSYCIATRIC HELP." ; 49
0154+  1882 4F 55 20 41 
0154+  1886 52 45 20 45 
0154+  188A 58 50 45 52 
0154+  188E 49 45 4E 43 
0154+  1892 49 4E 47 20 
0154+  1896 53 55 49 43 
0154+  189A 49 44 41 4C 
0154+  189E 20 54 48 4F 
0154+  18A2 55 47 48 54 
0154+  18A6 53 2C 20 59 
0154+  18AA 4F 55 20 53 
0154+  18AE 48 4F 55 4C 
0154+  18B2 44 20 53 45 
0154+  18B6 45 4B 20 50 
0154+  18BA 48 53 59 43 
0154+  18BE 49 41 54 52 
0154+  18C2 49 43 20 48 
0154+  18C6 45 4C 50 2E 
0155+  18CA 00          	.byte 0 ; null terminator
0156+  18CB 14          	.byte 20
0157+  18CC 2A 2A 2A 59 	.text "***YOU HAVE DIED***." ; 50
0157+  18D0 4F 55 20 48 
0157+  18D4 41 56 45 20 
0157+  18D8 44 49 45 44 
0157+  18DC 2A 2A 2A 2E 
0158+  18E0 00          	.byte 0 ; null terminator
0159+  18E1 3B          	.byte 59
0160+  18E2 54 41 4C 4B 	.text "TALKING TO YOURSELF IS A SIGN OF IMPENDING MENTAL COLLAPSE." ; 51
0160+  18E6 49 4E 47 20 
0160+  18EA 54 4F 20 59 
0160+  18EE 4F 55 52 53 
0160+  18F2 45 4C 46 20 
0160+  18F6 49 53 20 41 
0160+  18FA 20 53 49 47 
0160+  18FE 4E 20 4F 46 
0160+  1902 20 49 4D 50 
0160+  1906 45 4E 44 49 
0160+  190A 4E 47 20 4D 
0160+  190E 45 4E 54 41 
0160+  1912 4C 20 43 4F 
0160+  1916 4C 4C 41 50 
0160+  191A 53 45 2E 
0161+  191D 00          	.byte 0 ; null terminator
0162+  191E 1C          	.byte 28
0163+  191F 59 4F 55 20 	.text "YOU HEAR NOTHING UNEXPECTED." ; 52
0163+  1923 48 45 41 52 
0163+  1927 20 4E 4F 54 
0163+  192B 48 49 4E 47 
0163+  192F 20 55 4E 45 
0163+  1933 58 50 45 43 
0163+  1937 54 45 44 2E 
0164+  193B 00          	.byte 0 ; null terminator
0165+  193C 1D          	.byte 29
0166+  193D 59 4F 55 20 	.text "YOU SMELL NOTHING UNEXPECTED." ; 53
0166+  1941 53 4D 45 4C 
0166+  1945 4C 20 4E 4F 
0166+  1949 54 48 49 4E 
0166+  194D 47 20 55 4E 
0166+  1951 45 58 50 45 
0166+  1955 43 54 45 44 
0166+  1959 2E 
0167+  195A 00          	.byte 0 ; null terminator
0168+  195B 0E          	.byte 14
0169+  195C 54 49 4D 45 	.text "TIME PASSES..." ; 54
0169+  1960 20 50 41 53 
0169+  1964 53 45 53 2E 
0169+  1968 2E 2E 
0170+  196A 00          	.byte 0 ; null terminator
0171+  196B 18          	.byte 24
0172+  196C 41 41 41 41 	.text "AAAAAAAAAAAAARRRRGGGGGG!" ; 55
0172+  1970 41 41 41 41 
0172+  1974 41 41 41 41 
0172+  1978 41 52 52 52 
0172+  197C 52 47 47 47 
0172+  1980 47 47 47 21 
0173+  1984 00          	.byte 0 ; null terminator
0174+  1985 08          	.byte 8
0175+  1986 57 48 45 45 	.text "WHEEEEE!" ; 56
0175+  198A 45 45 45 21 
0176+  198E 00          	.byte 0 ; null terminator
0177+  198F 07          	.byte 7
0178+  1990 28 54 41 4B 	.text "(TAKEN)" ; 57
0178+  1994 45 4E 29 
0179+  1997 00          	.byte 0 ; null terminator
0180+  1998 11          	.byte 17
0181+  1999 54 48 45 20 	.text "THE NOTE READS..." ; 58
0181+  199D 4E 4F 54 45 
0181+  19A1 20 52 45 41 
0181+  19A5 44 53 2E 2E 
0181+  19A9 2E 
0182+  19AA 00          	.byte 0 ; null terminator
0183+  19AB 5E          	.byte 94
0184+  19AC 27 44 45 41 	.text "'DEAR DR., I STILL HAVE YOUR SONIC SCREWDRIVER. SERIOUSLY, YOU CAN BE SO FORGETFUL SOMETIMES.'" ; 59
0184+  19B0 52 20 44 52 
0184+  19B4 2E 2C 20 49 
0184+  19B8 20 53 54 49 
0184+  19BC 4C 4C 20 48 
0184+  19C0 41 56 45 20 
0184+  19C4 59 4F 55 52 
0184+  19C8 20 53 4F 4E 
0184+  19CC 49 43 20 53 
0184+  19D0 43 52 45 57 
0184+  19D4 44 52 49 56 
0184+  19D8 45 52 2E 20 
0184+  19DC 53 45 52 49 
0184+  19E0 4F 55 53 4C 
0184+  19E4 59 2C 20 59 
0184+  19E8 4F 55 20 43 
0184+  19EC 41 4E 20 42 
0184+  19F0 45 20 53 4F 
0184+  19F4 20 46 4F 52 
0184+  19F8 47 45 54 46 
0184+  19FC 55 4C 20 53 
0184+  1A00 4F 4D 45 54 
0184+  1A04 49 4D 45 53 
0184+  1A08 2E 27 
0185+  1A0A 00          	.byte 0 ; null terminator
0186+  1A0B 32          	.byte 50
0187+  1A0C 57 4F 55 4C 	.text "WOULD PUNCHING RANDOM THINGS MAKE YOU FEEL BETTER?" ; 60
0187+  1A10 44 20 50 55 
0187+  1A14 4E 43 48 49 
0187+  1A18 4E 47 20 52 
0187+  1A1C 41 4E 44 4F 
0187+  1A20 4D 20 54 48 
0187+  1A24 49 4E 47 53 
0187+  1A28 20 4D 41 4B 
0187+  1A2C 45 20 59 4F 
0187+  1A30 55 20 46 45 
0187+  1A34 45 4C 20 42 
0187+  1A38 45 54 54 45 
0187+  1A3C 52 3F 
0188+  1A3E 00          	.byte 0 ; null terminator
0189+  1A3F 39          	.byte 57
0190+  1A40 57 49 54 48 	.text "WITH A PRECISE BLOW, YOU NEATLY DECAPITATE THE MANNEQUIN." ; 61
0190+  1A44 20 41 20 50 
0190+  1A48 52 45 43 49 
0190+  1A4C 53 45 20 42 
0190+  1A50 4C 4F 57 2C 
0190+  1A54 20 59 4F 55 
0190+  1A58 20 4E 45 41 
0190+  1A5C 54 4C 59 20 
0190+  1A60 44 45 43 41 
0190+  1A64 50 49 54 41 
0190+  1A68 54 45 20 54 
0190+  1A6C 48 45 20 4D 
0190+  1A70 41 4E 4E 45 
0190+  1A74 51 55 49 4E 
0190+  1A78 2E 
0191+  1A79 00          	.byte 0 ; null terminator
0192+  1A7A 1A          	.byte 26
0193+  1A7B 52 4F 53 45 	.text "ROSE STAGGERS TO HER FEET." ; 62
0193+  1A7F 20 53 54 41 
0193+  1A83 47 47 45 52 
0193+  1A87 53 20 54 4F 
0193+  1A8B 20 48 45 52 
0193+  1A8F 20 46 45 45 
0193+  1A93 54 2E 
0194+  1A95 00          	.byte 0 ; null terminator
0195+  1A96 24          	.byte 36
0196+  1A97 52 4F 53 45 	.text "ROSE IS HERE CHECKING THE INVENTORY." ; 63
0196+  1A9B 20 49 53 20 
0196+  1A9F 48 45 52 45 
0196+  1AA3 20 43 48 45 
0196+  1AA7 43 4B 49 4E 
0196+  1AAB 47 20 54 48 
0196+  1AAF 45 20 49 4E 
0196+  1AB3 56 45 4E 54 
0196+  1AB7 4F 52 59 2E 
0197+  1ABB 00          	.byte 0 ; null terminator
0198+  1ABC 23          	.byte 35
0199+  1ABD 52 4F 53 45 	.text "ROSE HANDS YOU THE KEY TO HER FLAT." ; 64
0199+  1AC1 20 48 41 4E 
0199+  1AC5 44 53 20 59 
0199+  1AC9 4F 55 20 54 
0199+  1ACD 48 45 20 4B 
0199+  1AD1 45 59 20 54 
0199+  1AD5 4F 20 48 45 
0199+  1AD9 52 20 46 4C 
0199+  1ADD 41 54 2E 
0200+  1AE0 00          	.byte 0 ; null terminator
0201+  1AE1 03          	.byte 3
0202+  1AE2 54 42 44    	.text "TBD" ; 65
0203+  1AE5 00          	.byte 0 ; null terminator
0204+  1AE6 1F          	.byte 31
0205+  1AE7 54 48 41 54 	.text "THAT'S A STRANGE THING TO READ." ; 66
0205+  1AEB 27 53 20 41 
0205+  1AEF 20 53 54 52 
0205+  1AF3 41 4E 47 45 
0205+  1AF7 20 54 48 49 
0205+  1AFB 4E 47 20 54 
0205+  1AFF 4F 20 52 45 
0205+  1B03 41 44 2E 
0206+  1B06 00          	.byte 0 ; null terminator
0207+  1B07 15          	.byte 21
0208+  1B08 54 48 45 20 	.text "THE TARDIS IS CLOSED." ; 67
0208+  1B0C 54 41 52 44 
0208+  1B10 49 53 20 49 
0208+  1B14 53 20 43 4C 
0208+  1B18 4F 53 45 44 
0208+  1B1C 2E 
0209+  1B1D 00          	.byte 0 ; null terminator
0210+  1B1E 29          	.byte 41
0211+  1B1F 54 48 45 20 	.text "THE LIFT SLOWLY RISES TO THE UPPER FLOOR." ; 68
0211+  1B23 4C 49 46 54 
0211+  1B27 20 53 4C 4F 
0211+  1B2B 57 4C 59 20 
0211+  1B2F 52 49 53 45 
0211+  1B33 53 20 54 4F 
0211+  1B37 20 54 48 45 
0211+  1B3B 20 55 50 50 
0211+  1B3F 45 52 20 46 
0211+  1B43 4C 4F 4F 52 
0211+  1B47 2E 
0212+  1B48 00          	.byte 0 ; null terminator
0213+  1B49 2A          	.byte 42
0214+  1B4A 54 48 45 20 	.text "THE DOOR OPENS, LEADING EAST TO A HALLWAY." ; 69
0214+  1B4E 44 4F 4F 52 
0214+  1B52 20 4F 50 45 
0214+  1B56 4E 53 2C 20 
0214+  1B5A 4C 45 41 44 
0214+  1B5E 49 4E 47 20 
0214+  1B62 45 41 53 54 
0214+  1B66 20 54 4F 20 
0214+  1B6A 41 20 48 41 
0214+  1B6E 4C 4C 57 41 
0214+  1B72 59 2E 
0215+  1B74 00          	.byte 0 ; null terminator
0216+  1B75 19          	.byte 25
0217+  1B76 54 48 45 20 	.text "THE LIFT SLOWLY DESCENDS." ; 70
0217+  1B7A 4C 49 46 54 
0217+  1B7E 20 53 4C 4F 
0217+  1B82 57 4C 59 20 
0217+  1B86 44 45 53 43 
0217+  1B8A 45 4E 44 53 
0217+  1B8E 2E 
0218+  1B8F 00          	.byte 0 ; null terminator
0219+  1B90 2A          	.byte 42
0220+  1B91 54 48 45 20 	.text "THE DOOR OPENS, LEADING EAST TO THE LOBBY." ; 71
0220+  1B95 44 4F 4F 52 
0220+  1B99 20 4F 50 45 
0220+  1B9D 4E 53 2C 20 
0220+  1BA1 4C 45 41 44 
0220+  1BA5 49 4E 47 20 
0220+  1BA9 45 41 53 54 
0220+  1BAD 20 54 4F 20 
0220+  1BB1 54 48 45 20 
0220+  1BB5 4C 4F 42 42 
0220+  1BB9 59 2E 
0221+  1BBB 00          	.byte 0 ; null terminator
0222+  1BBC 33          	.byte 51
0223+  1BBD 41 46 54 45 	.text "AFTER SOME CLICKS AND BUZZES, THE TARDIS POPS OPEN." ; 72
0223+  1BC1 52 20 53 4F 
0223+  1BC5 4D 45 20 43 
0223+  1BC9 4C 49 43 4B 
0223+  1BCD 53 20 41 4E 
0223+  1BD1 44 20 42 55 
0223+  1BD5 5A 5A 45 53 
0223+  1BD9 2C 20 54 48 
0223+  1BDD 45 20 54 41 
0223+  1BE1 52 44 49 53 
0223+  1BE5 20 50 4F 50 
0223+  1BE9 53 20 4F 50 
0223+  1BED 45 4E 2E 
0224+  1BF0 00          	.byte 0 ; null terminator
0225+  1BF1 1B          	.byte 27
0226+  1BF2 54 48 45 20 	.text "THE TARDIS IS ALREADY OPEN." ; 73
0226+  1BF6 54 41 52 44 
0226+  1BFA 49 53 20 49 
0226+  1BFE 53 20 41 4C 
0226+  1C02 52 45 41 44 
0226+  1C06 59 20 4F 50 
0226+  1C0A 45 4E 2E 
0227+  1C0D 00          	.byte 0 ; null terminator
0228+  1C0E 18          	.byte 24
0229+  1C0F 28 57 49 54 	.text "(WITH SONIC SCREWDRIVER)" ; 74
0229+  1C13 48 20 53 4F 
0229+  1C17 4E 49 43 20 
0229+  1C1B 53 43 52 45 
0229+  1C1F 57 44 52 49 
0229+  1C23 56 45 52 29 
0230+  1C27 00          	.byte 0 ; null terminator
0231+  1C28 23          	.byte 35
0232+  1C29 59 4F 55 20 	.text "YOU HAVE NOTHING TO UNLOCK IT WITH." ; 75
0232+  1C2D 48 41 56 45 
0232+  1C31 20 4E 4F 54 
0232+  1C35 48 49 4E 47 
0232+  1C39 20 54 4F 20 
0232+  1C3D 55 4E 4C 4F 
0232+  1C41 43 4B 20 49 
0232+  1C45 54 20 57 49 
0232+  1C49 54 48 2E 
0233+  1C4C 00          	.byte 0 ; null terminator
0234+  1C4D 35          	.byte 53
0235+  1C4E 59 4F 55 20 	.text "YOU DEFTLY TOSS THE FEDORA ONTO THE DALEK'S EYESTALK." ; 76
0235+  1C52 44 45 46 54 
0235+  1C56 4C 59 20 54 
0235+  1C5A 4F 53 53 20 
0235+  1C5E 54 48 45 20 
0235+  1C62 46 45 44 4F 
0235+  1C66 52 41 20 4F 
0235+  1C6A 4E 54 4F 20 
0235+  1C6E 54 48 45 20 
0235+  1C72 44 41 4C 45 
0235+  1C76 4B 27 53 20 
0235+  1C7A 45 59 45 53 
0235+  1C7E 54 41 4C 4B 
0235+  1C82 2E 
0236+  1C83 00          	.byte 0 ; null terminator
0237+  1C84 66          	.byte 102
0238+  1C85 49 4E 20 41 	.text "IN AN ATTEMPT TO DESTROY THE HAT, THE DALEK FIRES A LASER AT IT,  ACCIDENTALLY VAPORIZING ITS OWN EYE." ; 77
0238+  1C89 4E 20 41 54 
0238+  1C8D 54 45 4D 50 
0238+  1C91 54 20 54 4F 
0238+  1C95 20 44 45 53 
0238+  1C99 54 52 4F 59 
0238+  1C9D 20 54 48 45 
0238+  1CA1 20 48 41 54 
0238+  1CA5 2C 20 54 48 
0238+  1CA9 45 20 44 41 
0238+  1CAD 4C 45 4B 20 
0238+  1CB1 46 49 52 45 
0238+  1CB5 53 20 41 20 
0238+  1CB9 4C 41 53 45 
0238+  1CBD 52 20 41 54 
0238+  1CC1 20 49 54 2C 
0238+  1CC5 20 20 41 43 
0238+  1CC9 43 49 44 45 
0238+  1CCD 4E 54 41 4C 
0238+  1CD1 4C 59 20 56 
0238+  1CD5 41 50 4F 52 
0238+  1CD9 49 5A 49 4E 
0238+  1CDD 47 20 49 54 
0238+  1CE1 53 20 4F 57 
0238+  1CE5 4E 20 45 59 
0238+  1CE9 45 2E 
0239+  1CEB 00          	.byte 0 ; null terminator
0240+  1CEC 34          	.byte 52
0241+  1CED 27 49 4D 50 	.text "'IMPOSSIBLE! IMPOSSIBLE! MUST DESTROY IMPERFECTION!'" ; 78
0241+  1CF1 4F 53 53 49 
0241+  1CF5 42 4C 45 21 
0241+  1CF9 20 49 4D 50 
0241+  1CFD 4F 53 53 49 
0241+  1D01 42 4C 45 21 
0241+  1D05 20 4D 55 53 
0241+  1D09 54 20 44 45 
0241+  1D0D 53 54 52 4F 
0241+  1D11 59 20 49 4D 
0241+  1D15 50 45 52 46 
0241+  1D19 45 43 54 49 
0241+  1D1D 4F 4E 21 27 
0242+  1D21 00          	.byte 0 ; null terminator
0243+  1D22 50          	.byte 80
0244+  1D23 54 48 45 20 	.text "THE DALEK, HAVING ACTIVATED A SELF DESTRUCT MECHANISM IS NOW GLOWING BRIGHT RED." ; 79
0244+  1D27 44 41 4C 45 
0244+  1D2B 4B 2C 20 48 
0244+  1D2F 41 56 49 4E 
0244+  1D33 47 20 41 43 
0244+  1D37 54 49 56 41 
0244+  1D3B 54 45 44 20 
0244+  1D3F 41 20 53 45 
0244+  1D43 4C 46 20 44 
0244+  1D47 45 53 54 52 
0244+  1D4B 55 43 54 20 
0244+  1D4F 4D 45 43 48 
0244+  1D53 41 4E 49 53 
0244+  1D57 4D 20 49 53 
0244+  1D5B 20 4E 4F 57 
0244+  1D5F 20 47 4C 4F 
0244+  1D63 57 49 4E 47 
0244+  1D67 20 42 52 49 
0244+  1D6B 47 48 54 20 
0244+  1D6F 52 45 44 2E 
0245+  1D73 00          	.byte 0 ; null terminator
0246+  1D74 18          	.byte 24
0247+  1D75 54 48 45 20 	.text "THE DOOR IS NOW UNLOCKED" ; 80
0247+  1D79 44 4F 4F 52 
0247+  1D7D 20 49 53 20 
0247+  1D81 4E 4F 57 20 
0247+  1D85 55 4E 4C 4F 
0247+  1D89 43 4B 45 44 
0248+  1D8D 00          	.byte 0 ; null terminator
0249+  1D8E 11          	.byte 17
0250+  1D8F 59 4F 55 20 	.text "YOU NEED THE KEY." ; 81
0250+  1D93 4E 45 45 44 
0250+  1D97 20 54 48 45 
0250+  1D9B 20 4B 45 59 
0250+  1D9F 2E 
0251+  1DA0 00          	.byte 0 ; null terminator
0252+  1DA1 17          	.byte 23
0253+  1DA2 54 48 45 20 	.text "THE TARDIS CREAKS OPEN." ; 82
0253+  1DA6 54 41 52 44 
0253+  1DAA 49 53 20 43 
0253+  1DAE 52 45 41 4B 
0253+  1DB2 53 20 4F 50 
0253+  1DB6 45 4E 2E 
0254+  1DB9 00          	.byte 0 ; null terminator
0255+  1DBA 2D          	.byte 45
0256+  1DBB 50 55 4E 43 	.text "PUNCHING THE MANNEQUIN HURTS ONLY YOUR FISTS." ; 83
0256+  1DBF 48 49 4E 47 
0256+  1DC3 20 54 48 45 
0256+  1DC7 20 4D 41 4E 
0256+  1DCB 4E 45 51 55 
0256+  1DCF 49 4E 20 48 
0256+  1DD3 55 52 54 53 
0256+  1DD7 20 4F 4E 4C 
0256+  1DDB 59 20 59 4F 
0256+  1DDF 55 52 20 46 
0256+  1DE3 49 53 54 53 
0256+  1DE7 2E 
0257+  1DE8 00          	.byte 0 ; null terminator
0258+  1DE9 FF          	.byte 255 ; end of table
0259+  1DEA             
0260+  1DEA             dictionary
0261+  1DEA 09          	.byte 9
0262+  1DEB 4F 46 46 53 	.text "OFFSCREEN" ; 0
0262+  1DEF 43 52 45 45 
0262+  1DF3 4E 
0263+  1DF4 00          	.byte 0 ; null terminator
0264+  1DF5 06          	.byte 6
0265+  1DF6 50 4C 41 59 	.text "PLAYER" ; 1
0265+  1DFA 45 52 
0266+  1DFC 00          	.byte 0 ; null terminator
0267+  1DFD 02          	.byte 2
0268+  1DFE 4D 45       	.text "ME" ; 2
0269+  1E00 00          	.byte 0 ; null terminator
0270+  1E01 04          	.byte 4
0271+  1E02 53 45 4C 46 	.text "SELF" ; 3
0272+  1E06 00          	.byte 0 ; null terminator
0273+  1E07 06          	.byte 6
0274+  1E08 4E 41 52 52 	.text "NARROW" ; 4
0274+  1E0C 4F 57 
0275+  1E0E 00          	.byte 0 ; null terminator
0276+  1E0F 05          	.byte 5
0277+  1E10 41 4C 4C 45 	.text "ALLEY" ; 5
0277+  1E14 59 
0278+  1E15 00          	.byte 0 ; null terminator
0279+  1E16 06          	.byte 6
0280+  1E17 54 41 52 44 	.text "TARDIS" ; 6
0280+  1E1B 49 53 
0281+  1E1D 00          	.byte 0 ; null terminator
0282+  1E1E 04          	.byte 4
0283+  1E1F 42 4C 55 45 	.text "BLUE" ; 7
0284+  1E23 00          	.byte 0 ; null terminator
0285+  1E24 06          	.byte 6
0286+  1E25 50 4F 4C 49 	.text "POLICE" ; 8
0286+  1E29 43 45 
0287+  1E2B 00          	.byte 0 ; null terminator
0288+  1E2C 03          	.byte 3
0289+  1E2D 42 4F 58    	.text "BOX" ; 9
0290+  1E30 00          	.byte 0 ; null terminator
0291+  1E31 06          	.byte 6
0292+  1E32 49 4E 53 49 	.text "INSIDE" ; 10
0292+  1E36 44 45 
0293+  1E38 00          	.byte 0 ; null terminator
0294+  1E39 04          	.byte 4
0295+  1E3A 4E 4F 54 45 	.text "NOTE" ; 11
0296+  1E3E 00          	.byte 0 ; null terminator
0297+  1E3F 04          	.byte 4
0298+  1E40 42 55 53 59 	.text "BUSY" ; 12
0299+  1E44 00          	.byte 0 ; null terminator
0300+  1E45 0C          	.byte 12
0301+  1E46 49 4E 54 45 	.text "INTERSECTION" ; 13
0301+  1E4A 52 53 45 43 
0301+  1E4E 54 49 4F 4E 
0302+  1E52 00          	.byte 0 ; null terminator
0303+  1E53 05          	.byte 5
0304+  1E54 4E 4F 52 54 	.text "NORTH" ; 14
0304+  1E58 48 
0305+  1E59 00          	.byte 0 ; null terminator
0306+  1E5A 06          	.byte 6
0307+  1E5B 53 54 52 45 	.text "STREET" ; 15
0307+  1E5F 45 54 
0308+  1E61 00          	.byte 0 ; null terminator
0309+  1E62 04          	.byte 4
0310+  1E63 45 41 53 54 	.text "EAST" ; 16
0311+  1E67 00          	.byte 0 ; null terminator
0312+  1E68 03          	.byte 3
0313+  1E69 31 53 54    	.text "1ST" ; 17
0314+  1E6C 00          	.byte 0 ; null terminator
0315+  1E6D 05          	.byte 5
0316+  1E6E 46 4C 4F 4F 	.text "FLOOR" ; 18
0316+  1E72 52 
0317+  1E73 00          	.byte 0 ; null terminator
0318+  1E74 03          	.byte 3
0319+  1E75 32 4E 44    	.text "2ND" ; 19
0320+  1E78 00          	.byte 0 ; null terminator
0321+  1E79 08          	.byte 8
0322+  1E7A 42 41 53 45 	.text "BASEMENT" ; 20
0322+  1E7E 4D 45 4E 54 
0323+  1E82 00          	.byte 0 ; null terminator
0324+  1E83 09          	.byte 9
0325+  1E84 49 4E 56 45 	.text "INVENTORY" ; 21
0325+  1E88 4E 54 4F 52 
0325+  1E8C 59 
0326+  1E8D 00          	.byte 0 ; null terminator
0327+  1E8E 04          	.byte 4
0328+  1E8F 52 4F 4F 4D 	.text "ROOM" ; 22
0329+  1E93 00          	.byte 0 ; null terminator
0330+  1E94 04          	.byte 4
0331+  1E95 44 4F 4F 52 	.text "DOOR" ; 23
0332+  1E99 00          	.byte 0 ; null terminator
0333+  1E9A 05          	.byte 5
0334+  1E9B 4C 4F 42 42 	.text "LOBBY" ; 24
0334+  1E9F 59 
0335+  1EA0 00          	.byte 0 ; null terminator
0336+  1EA1 08          	.byte 8
0337+  1EA2 45 4C 45 56 	.text "ELEVATOR" ; 25
0337+  1EA6 41 54 4F 52 
0338+  1EAA 00          	.byte 0 ; null terminator
0339+  1EAB 06          	.byte 6
0340+  1EAC 42 55 54 54 	.text "BUTTON" ; 26
0340+  1EB0 4F 4E 
0341+  1EB2 00          	.byte 0 ; null terminator
0342+  1EB3 07          	.byte 7
0343+  1EB4 48 41 4C 4C 	.text "HALLWAY" ; 27
0343+  1EB8 57 41 59 
0344+  1EBB 00          	.byte 0 ; null terminator
0345+  1EBC 06          	.byte 6
0346+  1EBD 52 4F 53 45 	.text "ROSE'S" ; 28
0346+  1EC1 27 53 
0347+  1EC3 00          	.byte 0 ; null terminator
0348+  1EC4 09          	.byte 9
0349+  1EC5 41 50 41 52 	.text "APARTMENT" ; 29
0349+  1EC9 54 4D 45 4E 
0349+  1ECD 54 
0350+  1ECE 00          	.byte 0 ; null terminator
0351+  1ECF 09          	.byte 9
0352+  1ED0 4D 41 4E 4E 	.text "MANNEQUIN" ; 30
0352+  1ED4 45 51 55 49 
0352+  1ED8 4E 
0353+  1ED9 00          	.byte 0 ; null terminator
0354+  1EDA 07          	.byte 7
0355+  1EDB 43 52 49 43 	.text "CRICKET" ; 31
0355+  1EDF 4B 45 54 
0356+  1EE2 00          	.byte 0 ; null terminator
0357+  1EE3 03          	.byte 3
0358+  1EE4 42 41 54    	.text "BAT" ; 32
0359+  1EE7 00          	.byte 0 ; null terminator
0360+  1EE8 04          	.byte 4
0361+  1EE9 52 4F 53 45 	.text "ROSE" ; 33
0362+  1EED 00          	.byte 0 ; null terminator
0363+  1EEE 05          	.byte 5
0364+  1EEF 44 41 4C 45 	.text "DALEK" ; 34
0364+  1EF3 4B 
0365+  1EF4 00          	.byte 0 ; null terminator
0366+  1EF5 07          	.byte 7
0367+  1EF6 53 54 59 4C 	.text "STYLISH" ; 35
0367+  1EFA 49 53 48 
0368+  1EFD 00          	.byte 0 ; null terminator
0369+  1EFE 03          	.byte 3
0370+  1EFF 48 41 54    	.text "HAT" ; 36
0371+  1F02 00          	.byte 0 ; null terminator
0372+  1F03 06          	.byte 6
0373+  1F04 46 45 44 4F 	.text "FEDORA" ; 37
0373+  1F08 52 41 
0374+  1F0A 00          	.byte 0 ; null terminator
0375+  1F0B 07          	.byte 7
0376+  1F0C 50 4C 41 53 	.text "PLASTIC" ; 38
0376+  1F10 54 49 43 
0377+  1F13 00          	.byte 0 ; null terminator
0378+  1F14 04          	.byte 4
0379+  1F15 48 45 41 44 	.text "HEAD" ; 39
0380+  1F19 00          	.byte 0 ; null terminator
0381+  1F1A 05          	.byte 5
0382+  1F1B 54 4F 52 53 	.text "TORSO" ; 40
0382+  1F1F 4F 
0383+  1F20 00          	.byte 0 ; null terminator
0384+  1F21 05          	.byte 5
0385+  1F22 53 4F 4E 49 	.text "SONIC" ; 41
0385+  1F26 43 
0386+  1F27 00          	.byte 0 ; null terminator
0387+  1F28 0B          	.byte 11
0388+  1F29 53 43 52 45 	.text "SCREWDRIVER" ; 42
0388+  1F2D 57 44 52 49 
0388+  1F31 56 45 52 
0389+  1F34 00          	.byte 0 ; null terminator
0390+  1F35 05          	.byte 5
0391+  1F36 53 43 52 45 	.text "SCREW" ; 43
0391+  1F3A 57 
0392+  1F3B 00          	.byte 0 ; null terminator
0393+  1F3C 06          	.byte 6
0394+  1F3D 44 52 49 56 	.text "DRIVER" ; 44
0394+  1F41 45 52 
0395+  1F43 00          	.byte 0 ; null terminator
0396+  1F44 08          	.byte 8
0397+  1F45 45 59 45 53 	.text "EYESTALK" ; 45
0397+  1F49 54 41 4C 4B 
0398+  1F4D 00          	.byte 0 ; null terminator
0399+  1F4E 07          	.byte 7
0400+  1F4F 50 4C 55 4E 	.text "PLUNGER" ; 46
0400+  1F53 47 45 52 
0401+  1F56 00          	.byte 0 ; null terminator
0402+  1F57 03          	.byte 3
0403+  1F58 45 59 45    	.text "EYE" ; 47
0404+  1F5B 00          	.byte 0 ; null terminator
0405+  1F5C 05          	.byte 5
0406+  1F5D 53 54 41 4C 	.text "STALK" ; 48
0406+  1F61 4B 
0407+  1F62 00          	.byte 0 ; null terminator
0408+  1F63 0A          	.byte 10
0409+  1F64 54 52 45 4E 	.text "TRENZALORE" ; 49
0409+  1F68 5A 41 4C 4F 
0409+  1F6C 52 45 
0410+  1F6E 00          	.byte 0 ; null terminator
0411+  1F6F 03          	.byte 3
0412+  1F70 4B 45 59    	.text "KEY" ; 50
0413+  1F73 00          	.byte 0 ; null terminator
0414+  1F74 07          	.byte 7
0415+  1F75 54 52 41 46 	.text "TRAFFIC" ; 51
0415+  1F79 46 49 43 
0416+  1F7C 00          	.byte 0 ; null terminator
0417+  1F7D FF          	.byte 255 ; end of table
0418+  1F7E             
0419+  1F7E             
0420+  1F7E             obj_word_table
0421+  1F7E 00 00 FF FF 	.byte 0,0,255,255   ;   OFFSCREEN
0422+  1F82 01 01 FF FF 	.byte 1,1,255,255   ;   PLAYER
0423+  1F86 02 04 05 FF 	.byte 2,4,5,255   ;   NARROW ALLEY
0424+  1F8A 03 06 FF FF 	.byte 3,6,255,255   ;   TARDIS
0425+  1F8E 04 0A 06 FF 	.byte 4,10,6,255   ;   INSIDE TARDIS
0426+  1F92 05 0B FF FF 	.byte 5,11,255,255   ;   NOTE
0427+  1F96 06 0C 0D FF 	.byte 6,12,13,255   ;   BUSY INTERSECTION
0428+  1F9A 07 0E 0F FF 	.byte 7,14,15,255   ;   NORTH STREET
0429+  1F9E 08 10 0F FF 	.byte 8,16,15,255   ;   EAST STREET
0430+  1FA2 09 11 12 FF 	.byte 9,17,18,255   ;   1ST FLOOR
0431+  1FA6 0A 13 12 FF 	.byte 10,19,18,255   ;   2ND FLOOR
0432+  1FAA 0B 14 FF FF 	.byte 11,20,255,255   ;   BASEMENT
0433+  1FAE 0C 15 16 FF 	.byte 12,21,22,255   ;   INVENTORY ROOM
0434+  1FB2 0D 17 FF FF 	.byte 13,23,255,255   ;   DOOR
0435+  1FB6 0E 18 FF FF 	.byte 14,24,255,255   ;   LOBBY
0436+  1FBA 0F 19 FF FF 	.byte 15,25,255,255   ;   ELEVATOR
0437+  1FBE 10 1A FF FF 	.byte 16,26,255,255   ;   BUTTON
0438+  1FC2 11 1B FF FF 	.byte 17,27,255,255   ;   HALLWAY
0439+  1FC6 12 1C 1D FF 	.byte 18,28,29,255   ;   ROSE'S APARTMENT
0440+  1FCA 13 1E FF FF 	.byte 19,30,255,255   ;   MANNEQUIN
0441+  1FCE 14 1F 20 FF 	.byte 20,31,32,255   ;   CRICKET BAT
0442+  1FD2 15 21 FF FF 	.byte 21,33,255,255   ;   ROSE
0443+  1FD6 16 22 FF FF 	.byte 22,34,255,255   ;   DALEK
0444+  1FDA 17 23 24 FF 	.byte 23,35,36,255   ;   STYLISH HAT
0445+  1FDE 18 26 27 FF 	.byte 24,38,39,255   ;   PLASTIC HEAD
0446+  1FE2 19 28 FF FF 	.byte 25,40,255,255   ;   TORSO
0447+  1FE6 1A 29 2A FF 	.byte 26,41,42,255   ;   SONIC SCREWDRIVER
0448+  1FEA 1B 2D FF FF 	.byte 27,45,255,255   ;   EYESTALK
0449+  1FEE 1C 31 FF FF 	.byte 28,49,255,255   ;   TRENZALORE
0450+  1FF2 1D 1C 17 FF 	.byte 29,28,23,255   ;   ROSE'S DOOR
0451+  1FF6 1E 32 FF FF 	.byte 30,50,255,255   ;   KEY
0452+  1FFA 1F 33 FF FF 	.byte 31,51,255,255   ;   TRAFFIC
0453+  1FFE FF          	.byte 255
0454+  1FFF 20          obj_table_size	.byte 32	
0455+  2000             
0456+  2000             
0457+  2000             article_table
0458+  2000 03          	.byte 3
0459+  2001 54 48 45    	.byte "THE"
0460+  2004 00          	.byte 0
0461+  2005 01          	.byte 1
0462+  2006 41          	.byte "A"
0463+  2007 00          	.byte 0
0464+  2008 02          	.byte 2
0465+  2009 41 4E       	.byte "AN"
0466+  200B 00          	.byte 0
0467+  200C FF          	.byte 255
0468+  200D             	
0469+  200D             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0470+  200D             ; PrepTableZ80.asm
0471+  200D             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0472+  200D             
0473+  200D             prep_table
0474+  200D 02          	.byte 2
0475+  200E 49 4E       	.byte "IN" ; 0
0476+  2010 00          	.byte 0 ; null terminator
0477+  2011 02          	.byte 2
0478+  2012 41 54       	.byte "AT" ; 1
0479+  2014 00          	.byte 0 ; null terminator
0480+  2015 02          	.byte 2
0481+  2016 54 4F       	.byte "TO" ; 2
0482+  2018 00          	.byte 0 ; null terminator
0483+  2019 06          	.byte 6
0484+  201A 49 4E 53 49 	.byte "INSIDE" ; 3
0484+  201E 44 45 
0485+  2020 00          	.byte 0 ; null terminator
0486+  2021 03          	.byte 3
0487+  2022 4F 55 54    	.byte "OUT" ; 4
0488+  2025 00          	.byte 0 ; null terminator
0489+  2026 05          	.byte 5
0490+  2027 55 4E 44 45 	.byte "UNDER" ; 5
0490+  202B 52 
0491+  202C 00          	.byte 0 ; null terminator
0492+  202D 02          	.byte 2
0493+  202E 4F 4E       	.byte "ON" ; 6
0494+  2030 00          	.byte 0 ; null terminator
0495+  2031 03          	.byte 3
0496+  2032 4F 46 46    	.byte "OFF" ; 7
0497+  2035 00          	.byte 0 ; null terminator
0498+  2036 04          	.byte 4
0499+  2037 49 4E 54 4F 	.byte "INTO" ; 8
0500+  203B 00          	.byte 0 ; null terminator
0501+  203C 02          	.byte 2
0502+  203D 55 50       	.byte "UP" ; 9
0503+  203F 00          	.byte 0 ; null terminator
0504+  2040 04          	.byte 4
0505+  2041 57 49 54 48 	.byte "WITH" ; 10
0506+  2045 00          	.byte 0 ; null terminator
0507+  2046 FF          	.byte 255 ; end of table
0508+  2047             	0080   2047             .include "tests.asm"
0001+  2047             ;tests
0002+  2047             
0003+  2047             
0004+  2047             		.module chkix
0005+  2047             chkix
0006+  2047 A9 20       	lda #$testInput/256	; set up input dest
0007+  2049 85 FB       	sta strDest+1
0008+  204B A9 7F       	lda #$testInput%256
0009+  204D 85 FA       	sta strDest
0010+  204F A9 1D       	lda #dictionary/256 ; setup table addr
0011+  2051 85 FF       	sta $tableAddr+1
0012+  2053 A9 EA       	lda #dictionary%256
0013+  2055 85 FE       	sta $tableAddr
0014+  2057 20 A5 0B    	jsr get_word_index
0015+  205A 60          	rts
0016+  205B             
0017+  205B             ;test to see if we can shift a sentence down by some number
0018+  205B             	.module shift_test
0019+  205B             shift_test
0020+  205B A9 85       	lda #$testSentence%256  ; copy input into kb buffer
0021+  205D 85 EB       	sta $strSrc
0022+  205F A9 20       	lda #$testSentence/256
0023+  2061 85 EC       	sta $strSrc+1
0024+  2063 A9 00       	lda #0  ; set up strDest
0025+  2065 85 FA       	sta $strDest
0026+  2067 A9 02       	lda #kbBufHi
0027+  2069 85 FB       	sta $strDest+1
0028+  206B 20 AE 08    	jsr strcpy		; input should be setup now
0029+  206E             	;lda #4					; copy input into kb buffer
0030+  206E             	;sta $wrdEnd
0031+  206E A9 00       	lda #0		; set shift source
0032+  2070 85 FE       	sta $tableAddr
0033+  2072 A9 02       	lda #$kbBufHi
0034+  2074 85 FF       	sta $tableAddr+1
0035+  2076             ;	jsr shift_left	
0036+  2076             ;	jsr remove_articles	
0037+  2076 A0 03       	ldy #3
0038+  2078 8C 6E 0B    	sty $wrdEnd
0039+  207B 20 BA 09    	jsr remove_articles
0040+  207E 60          	rts
0041+  207F             	
0042+  207F              	
0043+  207F 46 53 49 48 testInput .text "FSIHH"
0043+  2083 48 
0044+  2084 00          	.byte 0
0045+  2085             	
0046+  2085             	
0047+  2085 54 48 45 20 testSentence .text "THE HAT ON THE THE DALEK."
0047+  2089 48 41 54 20 
0047+  208D 4F 4E 20 54 
0047+  2091 48 45 20 54 
0047+  2095 48 45 20 44 
0047+  2099 41 4C 45 4B 
0047+  209D 2E 
0048+  209E 00          	.byte 0
0081   209F             	
0082   209F 48 45 4C 4C msg	.text	"HELLO"
0082   20A3 4F 
0083   20A4 00          	.byte 0
0084   20A5 42 59 45    goodbye .text "BYE"
0085   20A8 00          	.byte 0
0086   20A9 3E          prompt 	.text ">"
0087   20AA 00          	.byte 0
0088   20AB             buffer	.block 32
0089   20CB             
0090   20CB             .end
tasm: Number of errors = 0
